<html><body bgcolor="#e0e0e0"><head><title>plots/scatter.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  MODES: serial</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  scatter.py </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      Tests the scatter plot</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Brad Whitlock</font>
<font color="#a02030">#  Date:       Tue Dec 14 16:58:04 PST 2004</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#    Brad Whitlock, Mon Jul 18 17:19:04 PST 2005</font>
<font color="#a02030">#    Added tests for multiblock data and "scale to cube" that make sure that</font>
<font color="#a02030">#    the extents are gotten correctly beforehand. If the extents are not</font>
<font color="#a02030">#    gathered beforehand for a multi-block dataset when "scale to cube" is</font>
<font color="#a02030">#    on then each domain will use its local extents to map its values to</font>
<font color="#a02030">#    a cube and none of the cubes from the different domains will match,</font>
<font color="#a02030">#    causing an incorrect picture.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Mark C. Miller, Wed Jan 20 07:37:11 PST 2010</font>
<font color="#a02030">#    Added ability to swtich between Silo's HDF5 and PDB data.</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>

<font color="#a02030"># Set up some annotation settings.</font>
<font color="#000000">a</font> <font color="#4000C0">=</font> <font color="#000000">AnnotationAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">foregroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">TurnOffAllAnnotations</font><font color="#4000C0">(</font><font color="#000000">a</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Test plot options"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Set up a simple 2 variable scatter plot.</font>
<font color="#a02030">#</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"noise.silo"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Scatter"</font><font color="#4000C0">,</font> <font color="#008000">"hardyglobal"</font><font color="#4000C0">)</font>
<font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">ScatterAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2</font> <font color="#4000C0">=</font> <font color="#008000">"shepardglobal"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">scaleCube</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_00"</font><font color="#4000C0">)</font>

<font color="#000000">v0</font> <font color="#4000C0">=</font> <font color="#000000">GetView2D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#a02030">#</font>
<font color="#a02030"># Try setting x min and max</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Min</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Max</font> <font color="#4000C0">=</font> <font color="#0080C0">4</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">SetView2D</font><font color="#4000C0">(</font><font color="#000000">v0</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_01"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Try setting some scaling options for x</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Log</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">scaleCube</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">v1</font> <font color="#4000C0">=</font> <font color="#000000">GetView2D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_02"</font><font color="#4000C0">)</font>

<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Skew</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1SkewFactor</font> <font color="#4000C0">=</font> <font color="#0080C0">10</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_03"</font><font color="#4000C0">)</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1SkewFactor</font> <font color="#4000C0">=</font> <font color="#0080C0">0.01</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_04"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Add a 3rd dimension</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Linear</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3</font> <font color="#4000C0">=</font> <font color="#008000">"radial"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate2</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">v2</font> <font color="#4000C0">=</font> <font color="#000000">View3DAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.70917</font><font color="#4000C0">,</font> <font color="#0080C0">0.324761</font><font color="#4000C0">,</font> <font color="#0080C0">0.625787</font><font color="#4000C0">)</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">focus</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">viewUp</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.218647</font><font color="#4000C0">,</font> <font color="#0080C0">0.945137</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.242712</font><font color="#4000C0">)</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">viewAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">30</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font> <font color="#4000C0">=</font> <font color="#0080C0">0.866025</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">nearPlane</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">1.73205</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">farPlane</font> <font color="#4000C0">=</font> <font color="#0080C0">1.73205</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">imagePan</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.00504899</font><font color="#4000C0">,</font> <font color="#0080C0">0.0411036</font><font color="#4000C0">)</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font> <font color="#4000C0">=</font> <font color="#0080C0">1.44477</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">perspective</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">eyeAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
<font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v2</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_05"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Add a color dimension</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4</font> <font color="#4000C0">=</font> <font color="#008000">"default"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_06"</font><font color="#4000C0">)</font>


<font color="#a02030">#</font>
<font color="#a02030"># Try the min, max for the color</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Min</font> <font color="#4000C0">=</font> <font color="#0080C0">2.5</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_07"</font><font color="#4000C0">)</font>

<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Max</font> <font color="#4000C0">=</font> <font color="#0080C0">3.4</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_08"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Try scaling the color</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Log</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_09"</font><font color="#4000C0">)</font>

<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Skew</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4SkewFactor</font> <font color="#4000C0">=</font> <font color="#0080C0">10</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_10"</font><font color="#4000C0">)</font>

<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4SkewFactor</font> <font color="#4000C0">=</font> <font color="#0080C0">0.01</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_11"</font><font color="#4000C0">)</font>


<font color="#a02030">#</font>
<font color="#a02030"># Try changing color variables</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Linear</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4</font> <font color="#4000C0">=</font> <font color="#008000">"chromeVf"</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_12"</font><font color="#4000C0">)</font>


<font color="#a02030">#</font>
<font color="#a02030"># Try changing roles of color and Z.</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate2</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_13"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Change the roles back and change the color table.</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate2</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4</font> <font color="#4000C0">=</font> <font color="#008000">"hardyglobal"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">colorTableName</font> <font color="#4000C0">=</font> <font color="#008000">"gray"</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_14"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Make it use a single color</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">NONE</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">colorType</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">singleColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_15"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Turn off the legend</font>
<font color="#a02030">#</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">legendFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_16"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Try a Scatter plot with multi-block data</font>
<font color="#a02030">#</font>
<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Multiblock and scale to cube"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"multi_rect3d.silo"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Scatter"</font><font color="#4000C0">,</font> <font color="#008000">"d"</font><font color="#4000C0">)</font>
<font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">ScatterAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2</font> <font color="#4000C0">=</font> <font color="#008000">"u"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3</font> <font color="#4000C0">=</font> <font color="#008000">"v"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate2</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4</font> <font color="#4000C0">=</font> <font color="#008000">"u"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">scaleCube</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">0.01</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Box</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">View3DAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.482571</font><font color="#4000C0">,</font> <font color="#0080C0">0.41728</font><font color="#4000C0">,</font> <font color="#0080C0">0.770066</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">focus</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewUp</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.269481</font><font color="#4000C0">,</font> <font color="#0080C0">0.907303</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.322772</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">30</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font> <font color="#4000C0">=</font> <font color="#0080C0">0.864825</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">nearPlane</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">1.72965</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">farPlane</font> <font color="#4000C0">=</font> <font color="#0080C0">1.72965</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imagePan</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.0547107</font><font color="#4000C0">,</font> <font color="#0080C0">0.0441637</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font> <font color="#4000C0">=</font> <font color="#0080C0">1.08726</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">perspective</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">eyeAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotationSet</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotation</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
<font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_17"</font><font color="#4000C0">)</font>

<font color="#a02030"># Try different scalings.</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Log</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_18"</font><font color="#4000C0">)</font>

<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Scaling</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Skew</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1SkewFactor</font> <font color="#4000C0">=</font> <font color="#0080C0">50.</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_19"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Do different variables.</font>
<font color="#a02030">#</font>
<font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">"xc"</font><font color="#4000C0">,</font> <font color="#008000">"coord(mesh1)[0]"</font><font color="#4000C0">)</font>
<font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">"yc"</font><font color="#4000C0">,</font> <font color="#008000">"coord(mesh1)[1]"</font><font color="#4000C0">)</font>
<font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">"zc"</font><font color="#4000C0">,</font> <font color="#008000">"coord(mesh1)[2]"</font><font color="#4000C0">)</font>
<font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">"uvw_prod"</font><font color="#4000C0">,</font> <font color="#008000">"u*v*w"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Scatter"</font><font color="#4000C0">,</font> <font color="#008000">"xc"</font><font color="#4000C0">)</font>
<font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">ScatterAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2</font> <font color="#4000C0">=</font> <font color="#008000">"yc"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3</font> <font color="#4000C0">=</font> <font color="#008000">"zc"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate2</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4</font> <font color="#4000C0">=</font> <font color="#008000">"uvw_prod"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">scaleCube</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">0.01</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Box</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.799291</font><font color="#4000C0">,</font> <font color="#0080C0">0.383343</font><font color="#4000C0">,</font> <font color="#0080C0">0.462798</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">focus</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewUp</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.325714</font><font color="#4000C0">,</font> <font color="#0080C0">0.92354</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.202447</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">30</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font> <font color="#4000C0">=</font> <font color="#0080C0">0.866025</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">nearPlane</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">1.73205</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">farPlane</font> <font color="#4000C0">=</font> <font color="#0080C0">1.73205</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imagePan</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.000204097</font><font color="#4000C0">,</font> <font color="#0080C0">0.0398577</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font> <font color="#4000C0">=</font> <font color="#0080C0">1.07422</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">perspective</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">eyeAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotationSet</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotation</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
<font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_20"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Set min/max values in X,Y,Z and make sure that the points are the right</font>
<font color="#a02030"># color and the extents are right.</font>
<font color="#a02030">#</font>
<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Set min and max values, make sure colors and extents are right"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"curv3d.silo"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Scatter"</font><font color="#4000C0">,</font> <font color="#008000">"d"</font><font color="#4000C0">)</font>
<font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">ScatterAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2</font> <font color="#4000C0">=</font> <font color="#008000">"p"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3</font> <font color="#4000C0">=</font> <font color="#008000">"default"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Axis</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_21"</font><font color="#4000C0">)</font>

<font color="#a02030"># Set a min in X and make sure the points are still the right color.</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Min</font> <font color="#4000C0">=</font> <font color="#0080C0">3.5</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_22"</font><font color="#4000C0">)</font>

<font color="#a02030"># Set min max in X and Y</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Min</font> <font color="#4000C0">=</font> <font color="#0080C0">2.</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var1Max</font> <font color="#4000C0">=</font> <font color="#0080C0">4.</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2Min</font> <font color="#4000C0">=</font> <font color="#0080C0">0.3</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2Max</font> <font color="#4000C0">=</font> <font color="#0080C0">0.4</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_23"</font><font color="#4000C0">)</font>

<font color="#000000">DeleteActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"noise.silo"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Scatter"</font><font color="#4000C0">,</font> <font color="#008000">"hardyglobal"</font><font color="#4000C0">)</font>
<font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">ScatterAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2</font> <font color="#4000C0">=</font> <font color="#008000">"shepardglobal"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var2Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3</font> <font color="#4000C0">=</font> <font color="#008000">"radial"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Coordinate2</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4</font> <font color="#4000C0">=</font> <font color="#008000">"radial"</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var4Role</font> <font color="#4000C0">=</font> <font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">Color</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">scaleCube</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v2</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_24"</font><font color="#4000C0">)</font>

<font color="#a02030"># Set a min in Z.</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3MinFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Min</font> <font color="#4000C0">=</font> <font color="#0080C0">15.</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_25"</font><font color="#4000C0">)</font>

<font color="#a02030"># Set a max in Z.</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3MaxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">s</font><font color="#4000C0">.</font><font color="#000000">var3Max</font> <font color="#4000C0">=</font> <font color="#0080C0">22.</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">s</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"scatter_26"</font><font color="#4000C0">)</font>


<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>