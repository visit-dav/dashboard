<html><body bgcolor="#e0e0e0"><head><title>databases/vista.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  vista.py </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      multi-part vista files </font>
<font color="#a02030">#              Diablo vista files</font>
<font color="#a02030">#              Ale3d vista files w/materials</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Mark C. Miller </font>
<font color="#a02030">#  Date:       October 28, 2004 </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#    Mark C. Miller, Thu Apr 17 12:05:19 PDT 2008</font>
<font color="#a02030">#    Changed '-default_format' to '-assume_format'</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Jeremy Meredith, Tue Jul 15 10:43:58 EDT 2008</font>
<font color="#a02030">#    Changed number of vectors in vector plot to match the old behavior.</font>
<font color="#a02030">#    (We now account for how many domains there are.)</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>


<font color="#a02030">#</font>
<font color="#a02030"># We need to force VisIt to use Vista</font>
<font color="#a02030">#</font>
<font color="#000000">OpenMDServer</font><font color="#4000C0">(</font><font color="#008000">"localhost"</font><font color="#4000C0">)</font>

<font color="#a02030"># open a Vista/Diablo multi-part file</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"Vista_test_data/AAAA_00004_00000.SILO"</font><font color="#4000C0">)</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#008000">"Vista_1.0"</font><font color="#4000C0">)</font>


<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Vista-Diablo"</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># Test simple read and display of a variable </font>
<font color="#a02030">#</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font><font color="#008000">"bc_code_disp"</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">v</font><font color="#4000C0">=</font><font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.296198</font><font color="#4000C0">,</font> <font color="#0080C0">0.813798</font><font color="#4000C0">)</font>
<font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"vista_diablo_01"</font><font color="#4000C0">)</font>

<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font><font color="#008000">"AAAA"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Vector"</font><font color="#4000C0">,</font><font color="#008000">"coord_n"</font><font color="#4000C0">)</font>
<font color="#000000">vec</font> <font color="#4000C0">=</font> <font color="#000000">VectorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">vec</font><font color="#4000C0">.</font><font color="#000000">nVectors</font> <font color="#4000C0">=</font> <font color="#0080C0">400</font><font color="#4000C0">*</font><font color="#0080C0">4</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">vec</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"vista_diablo_02"</font><font color="#4000C0">)</font>

<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030"># open a Vista/Ale3d file</font>
<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Vista-Ale3d"</font><font color="#4000C0">)</font>

<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"Vista_test_data/nnq_001_00423.vista"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>


<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font><font color="#008000">"p"</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">v</font><font color="#4000C0">=</font><font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.0503248</font><font color="#4000C0">,</font> <font color="#0080C0">0.882919</font><font color="#4000C0">,</font> <font color="#0080C0">0.466821</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewUp</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#0080C0">0.784957</font><font color="#4000C0">,</font> <font color="#0080C0">0.323962</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.528101</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">focus</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#0080C0">5.86</font><font color="#4000C0">,</font> <font color="#0080C0">0.365</font><font color="#4000C0">,</font> <font color="#0080C0">2.915</font><font color="#4000C0">)</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font><font color="#4000C0">=</font><font color="#0080C0">9.6</font>
<font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font><font color="#4000C0">=</font><font color="#0080C0">2.1</font>
<font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>

<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"vista_ale3d_01"</font><font color="#4000C0">)</font>

<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font><font color="#008000">"nnq"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"FilledBoundary"</font><font color="#4000C0">,</font><font color="#008000">"materials"</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"vista_ale3d_02"</font><font color="#4000C0">)</font>

<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#000000"></font></font></pre></body></html>