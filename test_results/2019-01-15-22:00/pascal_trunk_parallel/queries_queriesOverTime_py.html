<html><body bgcolor="#e0e0e0"><head><title>queries/queriesOverTime.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ---------------------------------------------------------------------------- </font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  queriesOverTime.py #</font>
<font color="#a02030">#  Tests:      queries     - Database</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Defect ID:  none</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Kathleen Bonnell </font>
<font color="#a02030">#  Date:       March 31, 2004 </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Hank Childs, Tue Apr 13 13:00:15 PDT 2004</font>
<font color="#a02030">#    Rename surface area query.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Tue Apr 20 09:42:30 PDT 2004 </font>
<font color="#a02030">#    Added TestFilledBoundary.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Tue Apr 27 12:10:44 PDT 2004 </font>
<font color="#a02030">#    Added TestExpressions, TestOperators.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Thu Jun 24 09:49:35 PDT 2004 </font>
<font color="#a02030">#    Added TestTransientVariable.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Wed Jul 21 16:51:31 PDT 2004 </font>
<font color="#a02030">#    Added TestSpecifyTimeQueryWindow.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Wed Sep  8 10:53:58 PDT 2004 </font>
<font color="#a02030">#    Renamed 'WorldPick' as 'Pick'.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Mon Dec 20 15:54:04 PST 2004 </font>
<font color="#a02030">#    Changed 'Variable by Node' to 'PickByNode'.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Thu Jan  6 11:06:29 PST 2005 </font>
<font color="#a02030">#    Added TestTimeVaryingSIL.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Wed Mar 16 11:13:40 PST 2005 </font>
<font color="#a02030">#    Added TestQueryAfterQueryOverTime.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Wed Jul  6 16:21:34 PDT 2005 </font>
<font color="#a02030">#    Added TestMili.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Thu Nov 10 08:21:54 PST 2005 </font>
<font color="#a02030">#    Added TrajectoryByZone to TestMili.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Mark C. Miller, Wed Jan 20 07:37:11 PST 2010</font>
<font color="#a02030">#    Added ability to swtich between Silo's HDF5 and PDB data.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Cyrus Harrison, Fri Feb  5 09:27:37 PST 2010</font>
<font color="#a02030">#    Turn off color cycling to avoid possible propagation of error from</font>
<font color="#a02030">#    one failed test to several.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Bonnell, Thu Mar  3 11:47:09 PST 2011</font>
<font color="#a02030">#    Added MultiVarTimePick tests.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Kathleen Biagas, Thu Jul 14 10:44:55 PDT 2011</font>
<font color="#a02030">#    Use named arguments. </font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Tue Oct 17 16:54:48 PDT 2017</font>
<font color="#a02030">#    Added TestPickRangeTimeQuery</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Wed May  9 10:13:26 PDT 2018</font>
<font color="#a02030">#    Added TestReturnValue. </font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Wed May 30 14:16:28 PDT 2018</font>
<font color="#a02030">#    Added tests for performing pick ranges over time with and </font>
<font color="#a02030">#    without plotting and returning the curves. </font>
<font color="#a02030">#</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#000000">RequiredDatabasePlugin</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">"PDB"</font><font color="#4000C0">,</font> <font color="#008000">"Mili"</font><font color="#4000C0">,</font> <font color="#008000">"SAMRAI"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030"># Turn off most annotations</font>
    <font color="#000000">a</font> <font color="#4000C0">=</font> <font color="#000000">AnnotationAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes2D</font><font color="#4000C0">.</font><font color="#000000">visible</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes2D</font><font color="#4000C0">.</font><font color="#000000">xAxis</font><font color="#4000C0">.</font><font color="#000000">label</font><font color="#4000C0">.</font><font color="#000000">visible</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes2D</font><font color="#4000C0">.</font><font color="#000000">yAxis</font><font color="#4000C0">.</font><font color="#000000">label</font><font color="#4000C0">.</font><font color="#000000">visible</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes2D</font><font color="#4000C0">.</font><font color="#000000">xAxis</font><font color="#4000C0">.</font><font color="#000000">title</font><font color="#4000C0">.</font><font color="#000000">visible</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes2D</font><font color="#4000C0">.</font><font color="#000000">yAxis</font><font color="#4000C0">.</font><font color="#000000">title</font><font color="#4000C0">.</font><font color="#000000">visible</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes3D</font><font color="#4000C0">.</font><font color="#000000">triadFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">axes3D</font><font color="#4000C0">.</font><font color="#000000">bboxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">userInfoFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">databaseInfoFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">legendInfoFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundMode</font> <font color="#4000C0">=</font> <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">Solid</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">foregroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
    <font color="#000000">SetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#000000">a</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">SetCurvePlotDefaults</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030"># Disable Color Cycling, default to a blue curve.</font>
    <font color="#000000">catts</font> <font color="#4000C0">=</font> <font color="#000000">CurveAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">lineWidth</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">color</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">showLabels</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">designator</font> <font color="#4000C0">=</font> <font color="#008000">""</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">showPoints</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">showLegend</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">cycleColors</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">renderMode</font> <font color="#4000C0">=</font> <font color="#000000">catts</font><font color="#4000C0">.</font><font color="#000000">RenderAsLines</font>
    <font color="#000000">SetDefaultPlotOptions</font><font color="#4000C0">(</font><font color="#000000">catts</font><font color="#4000C0">)</font>



<font color="#C00000">def</font> <font color="#000000">TestAllTimeQueries</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030"># Do some database queries.</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Volume"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Min"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_03"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Max"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_04"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Variable Sum"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_05"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Weighted Variable Sum"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_06"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timePreserveCoord</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>
    <font color="#000000">PickByNode</font><font color="#4000C0">(</font><font color="#0080C0">15947</font><font color="#4000C0">)</font>
    <font color="#a02030"># reset some defaults</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timePreserveCoord</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"AllTimeQueries_07"</font><font color="#4000C0">)</font>

    <font color="#a02030"># delete window 2</font>
    <font color="#000000">DeleteWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># remove plots from window 1</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestFilledBoundary</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#  bug '4708</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"FilledBoundary"</font><font color="#4000C0">,</font> <font color="#008000">"Material"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">"1 barrier"</font><font color="#4000C0">,</font> <font color="#008000">"2 water"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"FBTimeQuery_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">"1 barrier"</font><font color="#4000C0">,</font> <font color="#008000">"2 water"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"FBTimeQuery_02"</font><font color="#4000C0">)</font>

    <font color="#a02030"># delete window 2</font>
    <font color="#000000">DeleteWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># remove plots from window 1</font>
    <font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestOperators</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#  bug '4818</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave*.silo database"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">"Isovolume"</font><font color="#4000C0">)</font>
    <font color="#000000">iso</font> <font color="#4000C0">=</font> <font color="#000000">IsovolumeAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">iso</font><font color="#4000C0">.</font><font color="#000000">lbound</font> <font color="#4000C0">=</font> <font color="#0080C0">0.1</font>
    <font color="#000000">iso</font><font color="#4000C0">.</font><font color="#000000">ubound</font> <font color="#4000C0">=</font> <font color="#0080C0">1.0</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">iso</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Volume"</font><font color="#4000C0">,</font> <font color="#000000">stride</font><font color="#4000C0">=</font><font color="#0080C0">10</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_ops_01"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_quality/jacobian"</font><font color="#4000C0">)</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">"Slice"</font><font color="#4000C0">)</font>
    <font color="#000000">slice</font> <font color="#4000C0">=</font> <font color="#000000">SliceAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">axisType</font> <font color="#4000C0">=</font> <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">Arbitrary</font>
    <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">normal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.689</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.0416</font><font color="#4000C0">,</font> <font color="#0080C0">0.7233</font><font color="#4000C0">)</font>
    <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">originType</font> <font color="#4000C0">=</font> <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">Point</font>
    <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">originPoint</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">2.0011</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.4084</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">1.1279</font><font color="#4000C0">)</font>
    <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">upAxis</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.08584</font><font color="#4000C0">,</font> <font color="#0080C0">0.996007</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.0245</font><font color="#4000C0">)</font>
    <font color="#000000">slice</font><font color="#4000C0">.</font><font color="#000000">project2d</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">slice</font><font color="#4000C0">)</font>

    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"2D area"</font><font color="#4000C0">,</font> <font color="#000000">stride</font><font color="#4000C0">=</font><font color="#0080C0">10</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_ops_02"</font><font color="#4000C0">)</font>

    <font color="#a02030"># prepare for next test-set</font>
    <font color="#a02030"># delete plots from window 2 &amp; l</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestExpressions</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#bug '4784</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"pdb_test_data/dbA00.pdb"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh/ireg"</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">minFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">maxFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">min</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">max</font> <font color="#4000C0">=</font> <font color="#0080C0">4</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">pt</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">4.</font><font color="#4000C0">,</font> <font color="#0080C0">3.</font><font color="#4000C0">,</font> <font color="#0080C0">0.</font><font color="#4000C0">)</font>
    <font color="#000000">pick</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pick</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pick</font><font color="#4000C0">)</font>
    <font color="#000000">Pick</font><font color="#4000C0">(</font><font color="#000000">pt</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_expr_01"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030"># test a scalar expression</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave*.silo database"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">"p2"</font><font color="#4000C0">,</font> <font color="#008000">"pressure*pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"p2"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Variable Sum"</font><font color="#4000C0">,</font> <font color="#000000">stride</font><font color="#4000C0">=</font><font color="#0080C0">10</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_expr_02"</font><font color="#4000C0">)</font>

    <font color="#a02030"># prepare for next test-set</font>
    <font color="#a02030"># delete plots from window 2 &amp; l</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"pdb_test_data/dbA00.pdb"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">"m"</font><font color="#4000C0">,</font> <font color="#008000">"matvf(material, 1)"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"m"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Variable Sum"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_expr_03"</font><font color="#4000C0">)</font>

    <font color="#a02030"># prepare for next test-set</font>
    <font color="#a02030"># delete plots from window 2 &amp; l</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>



<font color="#C00000">def</font> <font color="#000000">TestTransientVariable</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#bug '4906</font>

    <font color="#a02030"># Do what is necessary to get access to the transient variable,</font>
    <font color="#a02030"># because QueryOverTime requires an active drawn plot.</font>
    <font color="#000000">db</font> <font color="#4000C0">=</font> <font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave_tv*.silo database"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">17</font><font color="#4000C0">)</font>
    <font color="#000000">ReOpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"transient"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">qt</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">timeType</font> <font color="#4000C0">=</font> <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">Timestep</font>
    <font color="#000000">SetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#000000">qt</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Variable Sum"</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_trans_01"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>

    <font color="#000000">pick</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pick</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">pick</font><font color="#4000C0">.</font><font color="#000000">timePreserveCoord</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pick</font><font color="#4000C0">)</font>
    <font color="#000000">PickByNode</font><font color="#4000C0">(</font><font color="#0080C0">327</font><font color="#4000C0">)</font>

    <font color="#000000">pick</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">pick</font><font color="#4000C0">.</font><font color="#000000">timePreserveCoord</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pick</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_trans_02"</font><font color="#4000C0">)</font>

    <font color="#a02030"># Prepare for next test</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestSpecifyTimeQueryWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030"># bug '5163</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">qt</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">timeType</font> <font color="#4000C0">=</font> <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">Timestep</font>
    <font color="#000000">SetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#000000">qt</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"SpecifyTimeQueryWindow_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">"1 barrier"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">qot</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">qot</font><font color="#4000C0">.</font><font color="#000000">createWindow</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">qot</font><font color="#4000C0">.</font><font color="#000000">windowId</font> <font color="#4000C0">=</font> <font color="#0080C0">3</font>
    <font color="#000000">SetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#000000">qot</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">3</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"SpecifyTimeQueryWindow_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">"2 water"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">qot</font><font color="#4000C0">.</font><font color="#000000">windowId</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">SetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#000000">qot</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"SpecifyTimeQueryWindow_03"</font><font color="#4000C0">)</font>

    <font color="#a02030"># Prepare for next test</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">3</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestTimeVaryingSIL</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#bug '5473</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"samrai_test_data/sil_changes/dumps.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>


    <font color="#000000">cfileName</font> <font color="#4000C0">=</font> <font color="#008000">"./temp.curve"</font>
    <font color="#000000">curveFile</font> <font color="#4000C0">=</font> <font color="#000000">open</font><font color="#4000C0">(</font><font color="#000000">cfileName</font><font color="#4000C0">,</font> <font color="#008000">"wt"</font><font color="#4000C0">)</font>
    <font color="#000000">curveFile</font><font color="#4000C0">.</font><font color="#000000">write</font><font color="#4000C0">(</font><font color="#008000">"#3D surface area\n"</font><font color="#4000C0">)</font>
    <font color="#000000">nframes</font> <font color="#4000C0">=</font> <font color="#000000">TimeSliderGetNStates</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#C00000">for</font> <font color="#000000">i</font> <font color="#C00000">in</font> <font color="#000000">range</font><font color="#4000C0">(</font><font color="#000000">nframes</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
        <font color="#000000">val</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOutputValue</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">curveFile</font><font color="#4000C0">.</font><font color="#000000">write</font><font color="#4000C0">(</font><font color="#008000">"%g %g\n"</font> <font color="#4000C0">%</font> <font color="#4000C0">(</font><font color="#000000">i</font><font color="#4000C0">,</font> <font color="#000000">val</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderNextState</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">curveFile</font><font color="#4000C0">.</font><font color="#000000">close</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">cfileName</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Curve"</font><font color="#4000C0">,</font> <font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>

    <font color="#a02030"># Go ahead and use default plot for now.</font>
    <font color="#000000">qt</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">timeType</font> <font color="#4000C0">=</font> <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">Timestep</font>
    <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">createWindow</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">qt</font><font color="#4000C0">.</font><font color="#000000">windowId</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">SetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#000000">qt</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">cv</font> <font color="#4000C0">=</font> <font color="#000000">GetViewCurve</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">cv</font><font color="#4000C0">.</font><font color="#000000">domainCoords</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.534115</font><font color="#4000C0">,</font> <font color="#0080C0">10.5341</font><font color="#4000C0">)</font>
    <font color="#000000">cv</font><font color="#4000C0">.</font><font color="#000000">rangeCoords</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">4029.87</font><font color="#4000C0">,</font> <font color="#0080C0">5856.13</font><font color="#4000C0">)</font>
    <font color="#000000">SetViewCurve</font><font color="#4000C0">(</font><font color="#000000">cv</font><font color="#4000C0">)</font>

    <font color="#000000">SetActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">c</font> <font color="#4000C0">=</font> <font color="#000000">CurveAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">c</font><font color="#4000C0">.</font><font color="#000000">showPoints</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">c</font><font color="#4000C0">)</font>

    <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"Area Between Curves"</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOutputString</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">"Text2D"</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font>  <font color="#000000">s</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.02</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.55</font><font color="#4000C0">,</font> <font color="#0080C0">0.4</font><font color="#4000C0">)</font>

    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_sil_01"</font><font color="#4000C0">)</font>

    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">os</font><font color="#4000C0">.</font><font color="#000000">unlink</font><font color="#4000C0">(</font><font color="#000000">cfileName</font><font color="#4000C0">)</font>

    <font color="#a02030"># Prepare for next test</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestQueryAfterQueryOverTime</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030"># bug '5823</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave_tv.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">17</font><font color="#4000C0">)</font>
    <font color="#000000">ReOpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave_tv.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"transient"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Volume"</font><font color="#4000C0">)</font>
    <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"Volume"</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOutputString</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Max"</font><font color="#4000C0">)</font>
    <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"Max"</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">s</font> <font color="#4000C0">+</font> <font color="#000000">GetQueryOutputString</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030"># bug '6042</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">,</font> <font color="#000000">stride</font><font color="#4000C0">=</font><font color="#0080C0">10</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>

    <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"3D surface area"</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">s</font> <font color="#4000C0">+</font> <font color="#000000">GetQueryOutputString</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">"QueryAfterQueryOverTime"</font><font color="#4000C0">,</font> <font color="#000000">s</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestMili</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030"># bug '6430</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"mili_test_data/m_plot.mili"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"derived/velocity/z"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">ResetQueryOverTimeAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Volume"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_mili_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"Max"</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_mili_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>

    <font color="#000000">p</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">p</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">p</font><font color="#4000C0">.</font><font color="#000000">timePreserveCoord</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">p</font><font color="#4000C0">)</font>
    <font color="#000000">NodePick</font><font color="#4000C0">(</font><font color="#0080C0">122</font><font color="#4000C0">,</font> <font color="#0080C0">161</font><font color="#4000C0">)</font>

    <font color="#000000">p</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">p</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_mili_03"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">qvars</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#008000">"edv1"</font><font color="#4000C0">,</font> <font color="#008000">"edv2"</font><font color="#4000C0">)</font>
    <font color="#000000">QueryOverTime</font><font color="#4000C0">(</font><font color="#008000">"TrajectoryByZone"</font><font color="#4000C0">,</font> <font color="#000000">element</font><font color="#4000C0">=</font><font color="#0080C0">242</font><font color="#4000C0">,</font> <font color="#000000">vars</font><font color="#4000C0">=</font><font color="#000000">qvars</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimeQuery_mili_04"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">MultiVarTimePick</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">pa</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timeCurveType</font> <font color="#4000C0">=</font> <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">Single_Y_Axis</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>

    <font color="#000000">vars</font> <font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#008000">"pressure"</font><font color="#4000C0">,</font> <font color="#008000">"v"</font><font color="#4000C0">,</font> <font color="#008000">"direction_magnitude"</font><font color="#4000C0">)</font>
    <font color="#000000">PickByNode</font><font color="#4000C0">(</font><font color="#0080C0">8837</font><font color="#4000C0">,</font> <font color="#000000">vars</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePick_MultiVar_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timeCurveType</font> <font color="#4000C0">=</font> <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">Multiple_Y_Axes</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>
    <font color="#000000">PickByNode</font><font color="#4000C0">(</font><font color="#0080C0">8837</font><font color="#4000C0">,</font> <font color="#000000">vars</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePick_MultiVar_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030"># remove plots from window 1</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"mili_test_data/m_plot.mili"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"inteng"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timePreserveCoord</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timeCurveType</font> <font color="#4000C0">=</font> <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">Single_Y_Axis</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>

    <font color="#000000">vars</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#008000">"default"</font><font color="#4000C0">,</font> <font color="#008000">"normal_magnitude"</font><font color="#4000C0">)</font>
    <font color="#000000">PickByZone</font><font color="#4000C0">(</font><font color="#0080C0">233</font><font color="#4000C0">,</font> <font color="#000000">vars</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePick_MultiVar_03"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">timeCurveType</font> <font color="#4000C0">=</font> <font color="#000000">pa</font><font color="#4000C0">.</font><font color="#000000">Multiple_Y_Axes</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pa</font><font color="#4000C0">)</font>
    <font color="#000000">PickByZone</font><font color="#4000C0">(</font><font color="#0080C0">233</font><font color="#4000C0">,</font> <font color="#000000">vars</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePick_MultiVar_04"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestPickRangeTimeQuery</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>

    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave_tv.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">17</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"v"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">pickAtts</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">variables</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#008000">"default"</font><font color="#4000C0">,</font> <font color="#008000">"v"</font><font color="#4000C0">)</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">timeCurveType</font> <font color="#4000C0">=</font>  <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">Single_Y_Axis</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pickAtts</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Return the curves without plotting, and show</font>
    <font color="#a02030"># highlights. </font>
    <font color="#a02030">#</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">showPickHighlight</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pickAtts</font><font color="#4000C0">)</font>
    <font color="#000000">options</font> <font color="#4000C0">=</font> <font color="#4000C0">{</font><font color="#4000C0">}</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"pick_range"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"100-105, 100, 1"</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"do_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"return_curves"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">output_dict</font> <font color="#4000C0">=</font> <font color="#000000">PickByZone</font><font color="#4000C0">(</font><font color="#000000">options</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">str</font><font color="#4000C0">(</font><font color="#000000">output_dict</font><font color="#4000C0">)</font>

    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePickRange_00"</font><font color="#4000C0">)</font>
    <font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">"TimePickRangeDict_00"</font><font color="#4000C0">,</font><font color="#000000">s</font><font color="#4000C0">)</font>
    <font color="#000000">ClearPickPoints</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Plot the curves, but don't return them. </font>
    <font color="#a02030">#</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">showPickHighlight</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pickAtts</font><font color="#4000C0">)</font>
    <font color="#000000">options</font> <font color="#4000C0">=</font> <font color="#4000C0">{</font><font color="#4000C0">}</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"pick_range"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"100-105, 100, 1"</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"do_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"return_curves"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"start_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">10</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"end_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">14</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"stride"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">output_dict</font> <font color="#4000C0">=</font> <font color="#000000">PickByNode</font><font color="#4000C0">(</font><font color="#000000">options</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">str</font><font color="#4000C0">(</font><font color="#000000">output_dict</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePickRange_01"</font><font color="#4000C0">)</font>
    <font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">"TimePickRangeDict_01"</font><font color="#4000C0">,</font><font color="#000000">s</font><font color="#4000C0">)</font>
    <font color="#000000">ClearPickPoints</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Plot the curves, and return them. </font>
    <font color="#a02030">#</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">showPickHighlight</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pickAtts</font><font color="#4000C0">)</font>
    <font color="#000000">options</font> <font color="#4000C0">=</font> <font color="#4000C0">{</font><font color="#4000C0">}</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"pick_range"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"100-105"</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"do_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"return_curves"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"start_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">20</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"end_time"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">60</font>
    <font color="#000000">options</font><font color="#4000C0">[</font><font color="#008000">"stride"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">output_dict</font> <font color="#4000C0">=</font> <font color="#000000">PickByNode</font><font color="#4000C0">(</font><font color="#000000">options</font><font color="#4000C0">)</font>
    <font color="#000000">s</font> <font color="#4000C0">=</font> <font color="#000000">str</font><font color="#4000C0">(</font><font color="#000000">output_dict</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"TimePickRange_02"</font><font color="#4000C0">)</font>
    <font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">"TimePickRangeDict_02"</font><font color="#4000C0">,</font><font color="#000000">s</font><font color="#4000C0">)</font>
    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>

    <font color="#000000">ClearPickPoints</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetPickLetter</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">SetActiveWindow</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">ClearPickPoints</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetPickLetter</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestReturnValue</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#</font>
    <font color="#a02030"># There used to be a bug where the return value</font>
    <font color="#a02030"># from previous picks would propagate to the following</font>
    <font color="#a02030"># time query. Let's make sure this isn't re-introduced. </font>
    <font color="#a02030">#</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"wave.visit"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"v"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">pickAtts</font> <font color="#4000C0">=</font> <font color="#000000">GetPickAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">doTimeCurve</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">variables</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#008000">"default"</font><font color="#4000C0">,</font> <font color="#008000">"v"</font><font color="#4000C0">)</font>
    <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">timeCurveType</font> <font color="#4000C0">=</font>  <font color="#000000">pickAtts</font><font color="#4000C0">.</font><font color="#000000">Single_Y_Axis</font>
    <font color="#000000">SetPickAttributes</font><font color="#4000C0">(</font><font color="#000000">pickAtts</font><font color="#4000C0">)</font>

    <font color="#000000">time1</font>   <font color="#4000C0">=</font> <font color="#000000">NodePick</font><font color="#4000C0">(</font><font color="#000000">coord</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#0080C0">3</font><font color="#4000C0">,</font> <font color="#0080C0">.5</font><font color="#4000C0">,</font> <font color="#0080C0">3</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#000000">do_time</font><font color="#4000C0">=</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#000000">start_time</font><font color="#4000C0">=</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#000000">end_time</font><font color="#4000C0">=</font><font color="#0080C0">70</font><font color="#4000C0">)</font>
    <font color="#000000">no_time</font> <font color="#4000C0">=</font> <font color="#000000">NodePick</font><font color="#4000C0">(</font><font color="#000000">coord</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">,</font> <font color="#0080C0">.2</font><font color="#4000C0">,</font> <font color="#0080C0">2</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#000000">do_time</font><font color="#4000C0">=</font><font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">time2</font>   <font color="#4000C0">=</font> <font color="#000000">NodePick</font><font color="#4000C0">(</font><font color="#000000">coord</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#0080C0">3</font><font color="#4000C0">,</font> <font color="#0080C0">.5</font><font color="#4000C0">,</font> <font color="#0080C0">3</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#000000">do_time</font><font color="#4000C0">=</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#000000">start_time</font><font color="#4000C0">=</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#000000">end_time</font><font color="#4000C0">=</font><font color="#0080C0">70</font><font color="#4000C0">)</font>

    <font color="#000000">AssertEqual</font><font color="#4000C0">(</font><font color="#008000">"Pick Updated"</font><font color="#4000C0">,</font> <font color="#000000">type</font><font color="#4000C0">(</font><font color="#000000">time1</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#000000">type</font><font color="#4000C0">(</font><font color="#000000">time2</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">ClearPickPoints</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetPickLetter</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TimeQueryMain</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestAllTimeQueries</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestFilledBoundary</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestOperators</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestExpressions</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestTransientVariable</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestSpecifyTimeQueryWindow</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestTimeVaryingSIL</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestQueryAfterQueryOverTime</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestMili</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">MultiVarTimePick</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestPickRangeTimeQuery</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestReturnValue</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030"># main</font>
<font color="#000000">InitAnnotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">SetCurvePlotDefaults</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">TimeQueryMain</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#000000"></font></font></pre></body></html>