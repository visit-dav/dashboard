<html><body bgcolor="#e0e0e0"><head><title>databases/multi_format2.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  multi_format2.py </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      Using multiple file formats types in the same engine.</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Jeremy Meredith</font>
<font color="#a02030">#  Creation:   March 23, 2004</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests a strange case related to the original multi_format.py where the</font>
<font color="#a02030">#  engine is restarted implicitly.  This is currently skipped in parallel</font>
<font color="#a02030">#  since an implicit engine restart does not pick up the same paralell args.</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Mark C. Miller, Wed Jan 20 07:37:11 PST 2010</font>
<font color="#a02030">#    Added ability to swtich between Silo&#x27;s HDF5 and PDB data.</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>


<font color="#000000">db</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;rect2d.silo&quot;</font><font color="#4000C0">)</font> <font color="#4000C0">,</font>
      <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;pdb_test_data/allinone00.pdb&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#a02030"># Create a Pseudocolor plot of Rect2d.</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">[</font><font color="#0080C0">0</font><font color="#4000C0">]</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;p&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Move it off to the side</font>
<font color="#000000">t</font><font color="#4000C0">=</font><font color="#000000">TransformAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">t</font><font color="#4000C0">.</font><font color="#000000">doTranslate</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">t</font><font color="#4000C0">.</font><font color="#000000">translateX</font> <font color="#4000C0">=</font> <font color="#0080C0">11.0</font>
<font color="#000000">t</font><font color="#4000C0">.</font><font color="#000000">doScale</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font><font color="#4000C0">;</font>
<font color="#000000">t</font><font color="#4000C0">.</font><font color="#000000">scaleX</font> <font color="#4000C0">=</font> <font color="#0080C0">22.5</font><font color="#4000C0">;</font>
<font color="#000000">t</font><font color="#4000C0">.</font><font color="#000000">scaleY</font> <font color="#4000C0">=</font> <font color="#0080C0">22.5</font><font color="#4000C0">;</font>
<font color="#000000">SetDefaultOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">t</font><font color="#4000C0">)</font>
<font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">&quot;Transform&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Create a Pseudocolor plot of AllInOne</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">[</font><font color="#0080C0">1</font><font color="#4000C0">]</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;FilledBoundary&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;material(mesh)&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Close the compute engine!</font>
<font color="#000000">CloseComputeEngine</font><font color="#4000C0">(</font><font color="#008000">&quot;localhost&quot;</font><font color="#4000C0">)</font><font color="#4000C0">;</font>

<font color="#a02030"># Allow it to restart</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030"># Test it!</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_format2_01&quot;</font><font color="#4000C0">)</font>

<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>