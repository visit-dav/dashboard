<html><body bgcolor="#e0e0e0"><head><title>databases/blueprint.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  blueprint.py </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      blueprint hdf5 files </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Cyrus Harrison</font>
<font color="#a02030">#  Date:       Thu Jun 16 10:56:37 PDT 2016</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Fri Jul 17 16:29:50 PDT 2020</font>
<font color="#a02030">#    Added a test to ensure that variables containing parentheses</font>
<font color="#a02030">#    are able to be visualized.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Justin Privitera Fri 04 Mar 2022 05:57:49 PM PST</font>
<font color="#a02030">#    Added tests to test new implicit points topologies.</font>
<font color="#a02030"># </font>
<font color="#a02030">#    Justin Privitera, Mon May 23 17:53:56 PDT 2022</font>
<font color="#a02030">#    Added polytopal tests.</font>
<font color="#a02030"># </font>
<font color="#a02030">#    Justin Privitera, Mon May 23 17:53:56 PDT 2022</font>
<font color="#a02030">#    Added mfem lor tests.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Cyrus Harrison, Thu Dec 22 13:53:17 PST 2022</font>
<font color="#a02030">#    Added bp part map and initial strided structured tests/ </font>
<font color="#a02030">#</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#000000">RequiredDatabasePlugin</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">)</font>

<font color="#C00000">from</font> <font color="#000000">os</font><font color="#4000C0">.</font><font color="#000000">path</font> <font color="#C00000">import</font> <font color="#000000">join</font> <font color="#C00000">as</font> <font color="#000000">pjoin</font>

<font color="#000000">bp_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.3.1_test_data"</font>
<font color="#000000">bp_venn_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.7.0_venn_test_data"</font>
<font color="#000000">bp_mfem_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.3.1_mfem_test_data"</font>
<font color="#000000">bp_0_8_2_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.8.2_braid_examples_test_data"</font>
<font color="#000000">bp_poly_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.8.2_polytess_test_data"</font>
<font color="#000000">bp_devilray_mfem_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.8.3_devilray_mfem_test_data"</font>
<font color="#000000">bp_part_map_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.8.4_part_map_examples"</font>
<font color="#000000">bp_struct_strided_test_dir</font> <font color="#4000C0">=</font> <font color="#008000">"blueprint_v0.8.4_strided_structured_examples"</font>

<font color="#000000">braid_2d_hdf5_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_2d_examples.blueprint_root_hdf5"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">braid_3d_hdf5_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_3d_examples.blueprint_root_hdf5"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">braid_2d_json_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_2d_examples_json.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">braid_3d_json_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_3d_examples_json.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">braid_2d_sidre_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_2d_sidre_examples.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">braid_3d_sidre_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_3d_sidre_examples.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">braid_2d_0_8_2_hdf5_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_0_8_2_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_2d_examples_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">braid_3d_0_8_2_hdf5_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_0_8_2_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_3d_examples_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">braid_2d_0_8_2_yaml_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_0_8_2_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_2d_examples_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">braid_3d_0_8_2_yaml_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_0_8_2_test_dir</font><font color="#4000C0">,</font><font color="#008000">"braid_3d_examples_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">poly_2d_hdf5_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_poly_test_dir</font><font color="#4000C0">,</font><font color="#008000">"polytess_example_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">poly_2d_yaml_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_poly_test_dir</font><font color="#4000C0">,</font><font color="#008000">"polytess_example_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">poly_3d_hdf5_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_poly_test_dir</font><font color="#4000C0">,</font><font color="#008000">"polytess_3d_example_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">poly_3d_yaml_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_poly_test_dir</font><font color="#4000C0">,</font><font color="#008000">"polytess_3d_example_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">uniform_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_test_dir</font><font color="#4000C0">,</font><font color="#008000">"uniform.cycle_001038.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#a02030">#</font>
<font color="#a02030"># venn test data (multi material)</font>
<font color="#a02030">#</font>

<font color="#000000">venn_full_root</font>  <font color="#4000C0">=</font>  <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_venn_test_dir</font><font color="#4000C0">,</font>
                             <font color="#008000">"venn_small_example_full_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">venn_s_by_e_root</font>  <font color="#4000C0">=</font>  <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_venn_test_dir</font><font color="#4000C0">,</font>
                               <font color="#008000">"venn_small_example_sparse_by_element_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">venn_s_by_m_root</font>  <font color="#4000C0">=</font>  <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_venn_test_dir</font><font color="#4000C0">,</font>
                               <font color="#008000">"venn_small_example_sparse_by_material_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">venn_full_yaml_root</font>  <font color="#4000C0">=</font>  <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_venn_test_dir</font><font color="#4000C0">,</font>
                             <font color="#008000">"venn_small_example_full_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">venn_s_by_e_yaml_root</font>  <font color="#4000C0">=</font>  <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_venn_test_dir</font><font color="#4000C0">,</font>
                               <font color="#008000">"venn_small_example_sparse_by_element_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">venn_s_by_m_yaml_root</font>  <font color="#4000C0">=</font>  <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_venn_test_dir</font><font color="#4000C0">,</font>
                               <font color="#008000">"venn_small_example_sparse_by_material_yaml.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">bp_part_map_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_test_dir</font><font color="#4000C0">,</font>
                             <font color="#008000">"tout_custom_part_map_index_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">bp_part_map_single_file_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_test_dir</font><font color="#4000C0">,</font>
                                         <font color="#008000">"tout_single_file_part_map_index_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">bp_spiral_part_map_examples</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#4000C0">]</font>
<font color="#C00000">for</font> <font color="#000000">i</font> <font color="#C00000">in</font> <font color="#000000">range</font><font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">1</font><font color="#4000C0">,</font><font color="#0080C0">9</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">bp_spiral_part_map_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_test_dir</font><font color="#4000C0">,</font>
                                       <font color="#008000">"tout_relay_spiral_mesh_save_nfiles_{0}.cycle_000000.root"</font><font color="#4000C0">.</font><font color="#000000">format</font><font color="#4000C0">(</font><font color="#000000">i</font><font color="#4000C0">)</font><font color="#4000C0">)</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">bp_sparse_topos_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_test_dir</font><font color="#4000C0">,</font>
                                        <font color="#008000">"tout_relay_bp_mesh_sparse_topos_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>


<font color="#000000">bp_struct_strided_2d_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_struct_strided_test_dir</font><font color="#4000C0">,</font>
                                      <font color="#008000">"strided_structured_2d_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font><font color="#4000C0">;</font>


<font color="#000000">bp_struct_strided_3d_root</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_struct_strided_test_dir</font><font color="#4000C0">,</font>
                                      <font color="#008000">"strided_structured_3d_hdf5.root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font><font color="#4000C0">;</font>


<font color="#000000">braid_2d_meshes</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#008000">"points"</font><font color="#4000C0">,</font> <font color="#008000">"uniform"</font><font color="#4000C0">,</font> <font color="#008000">"rect"</font><font color="#4000C0">,</font> <font color="#008000">"struct"</font><font color="#4000C0">,</font> <font color="#008000">"tris"</font><font color="#4000C0">,</font><font color="#008000">"quads"</font><font color="#4000C0">]</font>
<font color="#000000">braid_3d_meshes</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#008000">"points"</font><font color="#4000C0">,</font> <font color="#008000">"uniform"</font><font color="#4000C0">,</font> <font color="#008000">"rect"</font><font color="#4000C0">,</font> <font color="#008000">"struct"</font><font color="#4000C0">,</font> <font color="#008000">"tets"</font><font color="#4000C0">,</font><font color="#008000">"hexs"</font><font color="#4000C0">]</font>

<font color="#000000">braid_2d_meshes_0_8_2</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#008000">"points"</font><font color="#4000C0">,</font> <font color="#008000">"uniform"</font><font color="#4000C0">,</font> <font color="#008000">"rect"</font><font color="#4000C0">,</font> <font color="#008000">"struct"</font><font color="#4000C0">,</font> <font color="#008000">"tris"</font><font color="#4000C0">,</font><font color="#008000">"quads"</font><font color="#4000C0">,</font> <font color="#008000">"points_implicit"</font><font color="#4000C0">]</font>
<font color="#000000">braid_3d_meshes_0_8_2</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#008000">"points"</font><font color="#4000C0">,</font> <font color="#008000">"uniform"</font><font color="#4000C0">,</font> <font color="#008000">"rect"</font><font color="#4000C0">,</font> <font color="#008000">"struct"</font><font color="#4000C0">,</font> <font color="#008000">"tets"</font><font color="#4000C0">,</font><font color="#008000">"hexs"</font><font color="#4000C0">,</font> <font color="#008000">"points_implicit"</font><font color="#4000C0">]</font>

<font color="#C00000">class</font> <font color="#000000">mfem_ex9_example</font><font color="#4000C0">:</font>
    <font color="#C00000">def</font> <font color="#000000">__init__</font><font color="#4000C0">(</font><font color="#000000">self</font><font color="#4000C0">,</font> <font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">dim</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">name</font> <font color="#4000C0">=</font> <font color="#000000">name</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">dim</font> <font color="#4000C0">=</font> <font color="#000000">dim</font>

<font color="#000000">mfem_ex9_examples</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#4000C0">]</font>
<font color="#000000">mfem_ex9_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">mfem_ex9_example</font><font color="#4000C0">(</font><font color="#008000">"periodic_cube"</font><font color="#4000C0">,</font> <font color="#008000">"3d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">mfem_ex9_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">mfem_ex9_example</font><font color="#4000C0">(</font><font color="#008000">"star_q3"</font><font color="#4000C0">,</font> <font color="#008000">"3d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">mfem_ex9_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">mfem_ex9_example</font><font color="#4000C0">(</font><font color="#008000">"periodic_hexagon"</font><font color="#4000C0">,</font> <font color="#008000">"2d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">mfem_ex9_protocols</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#008000">"json"</font><font color="#4000C0">,</font><font color="#008000">"conduit_bin"</font><font color="#4000C0">,</font><font color="#008000">"conduit_json"</font><font color="#4000C0">,</font><font color="#008000">"hdf5"</font><font color="#4000C0">]</font>

<font color="#C00000">class</font> <font color="#000000">devilray_mfem_example</font><font color="#4000C0">:</font>
    <font color="#C00000">def</font> <font color="#000000">__init__</font><font color="#4000C0">(</font><font color="#000000">self</font><font color="#4000C0">,</font> <font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">number</font><font color="#4000C0">,</font> <font color="#000000">pseudo_fields</font><font color="#4000C0">,</font> <font color="#000000">vector_fields</font><font color="#4000C0">,</font> <font color="#000000">dim</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">name</font> <font color="#4000C0">=</font> <font color="#000000">name</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">number</font> <font color="#4000C0">=</font> <font color="#000000">number</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">pseudo_fields</font> <font color="#4000C0">=</font> <font color="#000000">pseudo_fields</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">vector_fields</font> <font color="#4000C0">=</font> <font color="#000000">vector_fields</font>
        <font color="#000000">self</font><font color="#4000C0">.</font><font color="#000000">dim</font> <font color="#4000C0">=</font> <font color="#000000">dim</font>

<font color="#000000">devilray_mfem_examples</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#4000C0">]</font>
<font color="#000000">devilray_mfem_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">devilray_mfem_example</font><font color="#4000C0">(</font><font color="#008000">"esher"</font><font color="#4000C0">,</font> <font color="#008000">"000000"</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"mesh_nodes_magnitude"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#008000">"3d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">devilray_mfem_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">devilray_mfem_example</font><font color="#4000C0">(</font><font color="#008000">"laghos_tg.cycle"</font><font color="#4000C0">,</font> <font color="#008000">"000350"</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"mesh_nodes_magnitude"</font><font color="#4000C0">,</font> <font color="#008000">"density"</font><font color="#4000C0">,</font> <font color="#008000">"specific_internal_energy"</font><font color="#4000C0">,</font> <font color="#008000">"velocity_magnitude"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"velocity"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#008000">"3d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">devilray_mfem_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">devilray_mfem_example</font><font color="#4000C0">(</font><font color="#008000">"taylor_green.cycle"</font><font color="#4000C0">,</font> <font color="#008000">"001860"</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"mesh_nodes_magnitude"</font><font color="#4000C0">,</font> <font color="#008000">"density"</font><font color="#4000C0">,</font> <font color="#008000">"specific_internal_energy"</font><font color="#4000C0">,</font> <font color="#008000">"velocity_magnitude"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"velocity"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#008000">"3d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">devilray_mfem_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">devilray_mfem_example</font><font color="#4000C0">(</font><font color="#008000">"tri_beam"</font><font color="#4000C0">,</font> <font color="#008000">"000000"</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"mesh_nodes_magnitude"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"mesh_nodes"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#008000">"2d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">devilray_mfem_examples</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">devilray_mfem_example</font><font color="#4000C0">(</font><font color="#008000">"warbly_cube"</font><font color="#4000C0">,</font> <font color="#008000">"000000"</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#008000">"mesh_nodes_magnitude"</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#4000C0">[</font><font color="#4000C0">]</font><font color="#4000C0">,</font> <font color="#008000">"3d"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">full_mesh_name</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">return</font> <font color="#000000">mesh_name</font> <font color="#4000C0">+</font> <font color="#008000">"_mesh"</font>

<font color="#C00000">def</font> <font color="#000000">full_var_name</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#000000">var_name</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">return</font> <font color="#000000">full_mesh_name</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">)</font> <font color="#4000C0">+</font> <font color="#008000">"/"</font> <font color="#4000C0">+</font> <font color="#000000">var_name</font>

<font color="#C00000">def</font> <font color="#000000">mfem_test_file</font><font color="#4000C0">(</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">return</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_mfem_test_dir</font><font color="#4000C0">,</font><font color="#008000">"bp_mfem_ex9_%s_%s_000000.root"</font> <font color="#4000C0">%</font> <font color="#4000C0">(</font> <font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">)</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">devilray_mfem_test_file</font><font color="#4000C0">(</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">number</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">return</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#000000">bp_devilray_mfem_test_dir</font><font color="#4000C0">,</font> <font color="#000000">name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">number</font> <font color="#4000C0">+</font> <font color="#008000">".root"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">set_3d_view</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">View3DAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.510614</font><font color="#4000C0">,</font> <font color="#0080C0">0.302695</font><font color="#4000C0">,</font> <font color="#0080C0">0.804767</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">focus</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewUp</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.0150532</font><font color="#4000C0">,</font> <font color="#0080C0">0.932691</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.360361</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">30</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font> <font color="#4000C0">=</font> <font color="#0080C0">17.3205</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">nearPlane</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">34.641</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">farPlane</font> <font color="#4000C0">=</font> <font color="#0080C0">34.641</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imagePan</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">perspective</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">eyeAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotationSet</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotation</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">axis3DScaleFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">axis3DScales</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">shear</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">windowValid</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">set_3d_poly_view</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">View3DAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.50151</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.632781</font><font color="#4000C0">,</font> <font color="#0080C0">0.589979</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">focus</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">2.46025e-13</font><font color="#4000C0">,</font> <font color="#0080C0">6.43929e-14</font><font color="#4000C0">,</font> <font color="#0080C0">4.5</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewUp</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.364523</font><font color="#4000C0">,</font> <font color="#0080C0">0.463898</font><font color="#4000C0">,</font> <font color="#0080C0">0.807416</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">30</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font> <font color="#4000C0">=</font> <font color="#0080C0">7.93494</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">nearPlane</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">15.8699</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">farPlane</font> <font color="#4000C0">=</font> <font color="#0080C0">15.8699</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imagePan</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">perspective</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">eyeAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotationSet</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">centerOfRotation</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">2.46025e-13</font><font color="#4000C0">,</font> <font color="#0080C0">6.43929e-14</font><font color="#4000C0">,</font> <font color="#0080C0">4.5</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">axis3DScaleFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">axis3DScales</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">shear</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">windowValid</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">if</font> <font color="#008000">"3d"</font> <font color="#C00000">in</font> <font color="#000000">tag_name</font><font color="#4000C0">:</font>
        <font color="#C00000">if</font> <font color="#008000">"poly"</font> <font color="#C00000">in</font> <font color="#000000">tag_name</font><font color="#4000C0">:</font>
            <font color="#000000">set_3d_poly_view</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#C00000">else</font><font color="#4000C0">:</font>
            <font color="#000000">set_3d_view</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#C00000">else</font><font color="#4000C0">:</font>
        <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#000000">tag_name</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font><font color="#008000">"%s"</font> <font color="#4000C0">%</font> <font color="#000000">full_mesh_name</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">mesh_name</font> <font color="#4000C0">+</font> <font color="#008000">"_mesh"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#000000">full_var_name</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"braid"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">mesh_name</font> <font color="#4000C0">+</font> <font color="#008000">"_braid"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#000000">full_var_name</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"radial"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">mesh_name</font> <font color="#4000C0">+</font> <font color="#008000">"_radial"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test_poly</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_topo"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_mesh_topo_mesh"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_topo/level"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_mesh_topo_level"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test_mfem</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">,</font> <font color="#000000">example_name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">readOptions</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">)</font>
    <font color="#000000">readOptions</font><font color="#4000C0">[</font><font color="#008000">"MFEM LOR Setting"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"Legacy LOR"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">,</font> <font color="#000000">readOptions</font><font color="#4000C0">)</font>

    <font color="#000000">dbfile</font> <font color="#4000C0">=</font> <font color="#000000">mfem_test_file</font><font color="#4000C0">(</font><font color="#000000">example_name</font><font color="#4000C0">,</font><font color="#000000">protocol</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main/solution"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">example_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">protocol</font> <font color="#4000C0">+</font> <font color="#008000">"_sol"</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main/element_coloring"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">example_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">protocol</font> <font color="#4000C0">+</font> <font color="#008000">"_ele_coloring"</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main/element_attribute"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">example_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">protocol</font> <font color="#4000C0">+</font> <font color="#008000">"_ele_att"</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

    <font color="#a02030"># reset read options to default</font>
    <font color="#000000">readOptions</font><font color="#4000C0">[</font><font color="#008000">"MFEM LOR Setting"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"MFEM LOR"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">,</font> <font color="#000000">readOptions</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test_mfem_lor_mesh</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">,</font> <font color="#000000">example_name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">,</font> <font color="#000000">devilray</font> <font color="#4000C0">=</font> <font color="#C00000">False</font><font color="#4000C0">,</font> <font color="#000000">number</font> <font color="#4000C0">=</font> <font color="#008000">"000000"</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">dbfile</font> <font color="#4000C0">=</font> <font color="#008000">""</font>
    <font color="#C00000">if</font> <font color="#4000C0">(</font><font color="#000000">devilray</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">dbfile</font> <font color="#4000C0">=</font> <font color="#000000">devilray_mfem_test_file</font><font color="#4000C0">(</font><font color="#000000">example_name</font><font color="#4000C0">,</font> <font color="#000000">number</font><font color="#4000C0">)</font>
    <font color="#C00000">else</font><font color="#4000C0">:</font>
        <font color="#000000">dbfile</font> <font color="#4000C0">=</font> <font color="#000000">mfem_test_file</font><font color="#4000C0">(</font><font color="#000000">example_name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">)</font>

    <font color="#a02030"># get default options</font>
    <font color="#000000">readOptions</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">)</font>
    <font color="#000000">readOptions</font><font color="#4000C0">[</font><font color="#008000">"MFEM LOR Setting"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"MFEM LOR"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">,</font> <font color="#000000">readOptions</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

    <font color="#a02030"># we want to test a picture of a wireframe</font>
    <font color="#a02030"># new LOR should only have the outer edge</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Subset"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main"</font><font color="#4000C0">)</font>
    <font color="#000000">SubsetAtts</font> <font color="#4000C0">=</font> <font color="#000000">SubsetAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SubsetAtts</font><font color="#4000C0">.</font><font color="#000000">wireframe</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">SubsetAtts</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">example_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">protocol</font> <font color="#4000C0">+</font> <font color="#008000">"_lor"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

    <font color="#a02030">##############################</font>

    <font color="#a02030"># examine legacy</font>
    <font color="#000000">readOptions</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">)</font>
    <font color="#000000">readOptions</font><font color="#4000C0">[</font><font color="#008000">"MFEM LOR Setting"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"Legacy LOR"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">,</font> <font color="#000000">readOptions</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

    <font color="#a02030"># old LOR leaves a busy wireframe</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Subset"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main"</font><font color="#4000C0">)</font>
    <font color="#000000">SubsetAtts</font> <font color="#4000C0">=</font> <font color="#000000">SubsetAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SubsetAtts</font><font color="#4000C0">.</font><font color="#000000">wireframe</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">SubsetAtts</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font>  <font color="#000000">example_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">protocol</font> <font color="#4000C0">+</font> <font color="#008000">"_legacy_lor"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

    <font color="#a02030"># restore default</font>
    <font color="#000000">readOptions</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">)</font>
    <font color="#000000">readOptions</font><font color="#4000C0">[</font><font color="#008000">"MFEM LOR Setting"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"MFEM LOR"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">,</font> <font color="#000000">readOptions</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test_mfem_lor_field</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">,</font> <font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">number</font><font color="#4000C0">,</font> <font color="#000000">pseudocolor_fields</font><font color="#4000C0">,</font> <font color="#000000">vector_fields</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">readOptions</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">)</font>
    <font color="#000000">readOptions</font><font color="#4000C0">[</font><font color="#008000">"MFEM LOR Setting"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"MFEM LOR"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Blueprint"</font><font color="#4000C0">,</font> <font color="#000000">readOptions</font><font color="#4000C0">)</font>
    <font color="#000000">dbfile</font> <font color="#4000C0">=</font> <font color="#000000">devilray_mfem_test_file</font><font color="#4000C0">(</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">number</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

    <font color="#C00000">for</font> <font color="#000000">field</font> <font color="#C00000">in</font> <font color="#000000">pseudocolor_fields</font><font color="#4000C0">:</font>
        <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main/"</font> <font color="#4000C0">+</font> <font color="#000000">field</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">"MultiresControl"</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">SetActivePlots</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">)</font>
        <font color="#000000">MultiresControlAtts</font> <font color="#4000C0">=</font> <font color="#000000">MultiresControlAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">MultiresControlAtts</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">3</font>
        <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">MultiresControlAtts</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
        <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">name</font> <font color="#4000C0">+</font> <font color="#008000">"_pseudocolor_"</font> <font color="#4000C0">+</font> <font color="#000000">field</font> <font color="#4000C0">+</font> <font color="#008000">"_lor"</font><font color="#4000C0">)</font>
        <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#C00000">for</font> <font color="#000000">field</font> <font color="#C00000">in</font> <font color="#000000">vector_fields</font><font color="#4000C0">:</font>
        <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Vector"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_main/"</font> <font color="#4000C0">+</font> <font color="#000000">field</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">"MultiresControl"</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">SetActivePlots</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">)</font>
        <font color="#000000">MultiresControlAtts</font> <font color="#4000C0">=</font> <font color="#000000">MultiresControlAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">MultiresControlAtts</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">3</font>
        <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">MultiresControlAtts</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">name</font> <font color="#4000C0">+</font> <font color="#008000">"_vector_"</font> <font color="#4000C0">+</font> <font color="#000000">field</font> <font color="#4000C0">+</font> <font color="#008000">"_lor"</font><font color="#4000C0">)</font>
        <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">dbfile</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">,</font> <font color="#000000">venn_db_file</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Blueprint Matset Example Tests: {0} "</font><font color="#4000C0">.</font><font color="#000000">format</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">venn_db_file</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_topo/mat_check"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_mat_check"</font><font color="#4000C0">)</font>
    <font color="#a02030"># value check</font>
    <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"minmax"</font><font color="#4000C0">)</font>
    <font color="#000000">res</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOutputObject</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">print</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">)</font>
    <font color="#a02030"># We expect:</font>
    <font color="#a02030">#int(res["max"]) == 4320</font>
    <font color="#a02030">#int(res["min"]) == 1</font>
    <font color="#000000">TestValueEQ</font><font color="#4000C0">(</font><font color="#008000">"testeq_t_mat_check_max"</font><font color="#4000C0">,</font><font color="#000000">int</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">[</font><font color="#008000">"max"</font><font color="#4000C0">]</font><font color="#4000C0">)</font><font color="#4000C0">,</font><font color="#0080C0">4320</font><font color="#4000C0">)</font>
    <font color="#000000">TestValueEQ</font><font color="#4000C0">(</font><font color="#008000">"testeq_mat_check_min"</font><font color="#4000C0">,</font><font color="#000000">int</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">[</font><font color="#008000">"min"</font><font color="#4000C0">]</font><font color="#4000C0">)</font><font color="#4000C0">,</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Blueprint Matset Example Tests: {0} Matvf Exprs"</font><font color="#4000C0">.</font><font color="#000000">format</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#a02030"># check all volume fractions</font>
    <font color="#000000">vf_exprs</font> <font color="#4000C0">=</font> <font color="#4000C0">{</font><font color="#008000">"vf_bg"</font><font color="#4000C0">:</font><font color="#008000">'matvf(mesh_topo_matset,"background")'</font><font color="#4000C0">,</font>
                <font color="#008000">"vf_c_a"</font><font color="#4000C0">:</font><font color="#008000">'matvf(mesh_topo_matset,"circle_a")'</font><font color="#4000C0">,</font>
                <font color="#008000">"vf_c_b"</font><font color="#4000C0">:</font><font color="#008000">'matvf(mesh_topo_matset,"circle_b")'</font><font color="#4000C0">,</font>
                <font color="#008000">"vf_c_c"</font><font color="#4000C0">:</font><font color="#008000">'matvf(mesh_topo_matset,"circle_c")'</font><font color="#4000C0">}</font>

    <font color="#C00000">for</font> <font color="#000000">ename</font><font color="#4000C0">,</font><font color="#000000">edef</font> <font color="#C00000">in</font> <font color="#000000">vf_exprs</font><font color="#4000C0">.</font><font color="#000000">items</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#000000">ename</font><font color="#4000C0">,</font><font color="#000000">edef</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
        <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#000000">ename</font><font color="#4000C0">)</font>
        <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
        <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">ename</font><font color="#4000C0">)</font>
        <font color="#a02030"># value check</font>
        <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"minmax"</font><font color="#4000C0">)</font>
        <font color="#000000">res</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOutputObject</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">print</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">)</font>
        <font color="#a02030"># We expect:</font>
        <font color="#a02030">#res["max"] == 1.0</font>
        <font color="#a02030">#res["min"] == 0.0</font>
        <font color="#000000">TestValueEQ</font><font color="#4000C0">(</font><font color="#008000">"testeq_"</font> <font color="#4000C0">+</font> <font color="#000000">ename</font> <font color="#4000C0">+</font> <font color="#008000">"_max"</font><font color="#4000C0">,</font><font color="#000000">res</font><font color="#4000C0">[</font><font color="#008000">"max"</font><font color="#4000C0">]</font><font color="#4000C0">,</font><font color="#0080C0">1.0</font><font color="#4000C0">)</font>
        <font color="#000000">TestValueEQ</font><font color="#4000C0">(</font><font color="#008000">"testeq_"</font> <font color="#4000C0">+</font> <font color="#000000">ename</font> <font color="#4000C0">+</font> <font color="#008000">"_min"</font><font color="#4000C0">,</font><font color="#000000">res</font><font color="#4000C0">[</font><font color="#008000">"min"</font><font color="#4000C0">]</font><font color="#4000C0">,</font><font color="#0080C0">0.0</font><font color="#4000C0">)</font>
        <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Blueprint Matset Example Tests: {0} Val4mat Exprs"</font><font color="#4000C0">.</font><font color="#000000">format</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#a02030"># check all volume fractions</font>
    <font color="#000000">v4m_exprs</font> <font color="#4000C0">=</font> <font color="#4000C0">{</font><font color="#008000">"v4m_bg"</font><font color="#4000C0">:</font><font color="#008000">'val4mat(&lt;mesh_topo/mat_check&gt;,"background")'</font><font color="#4000C0">,</font>
                 <font color="#008000">"v4m_c_a"</font><font color="#4000C0">:</font><font color="#008000">'val4mat(&lt;mesh_topo/mat_check&gt;,"circle_a")'</font><font color="#4000C0">,</font>
                 <font color="#008000">"v4m_c_b"</font><font color="#4000C0">:</font><font color="#008000">'val4mat(&lt;mesh_topo/mat_check&gt;,"circle_b")'</font><font color="#4000C0">,</font>
                 <font color="#008000">"v4m_c_c"</font><font color="#4000C0">:</font><font color="#008000">'val4mat(&lt;mesh_topo/mat_check&gt;,"circle_c")'</font><font color="#4000C0">}</font>

    <font color="#000000">v4m_test_vals</font> <font color="#4000C0">=</font> <font color="#4000C0">{</font><font color="#008000">"v4m_bg"</font><font color="#4000C0">:</font>     <font color="#0080C0">1</font><font color="#4000C0">,</font>
                     <font color="#008000">"v4m_c_a"</font><font color="#4000C0">:</font>   <font color="#0080C0">20</font><font color="#4000C0">,</font>
                     <font color="#008000">"v4m_c_b"</font><font color="#4000C0">:</font>  <font color="#0080C0">300</font><font color="#4000C0">,</font>
                     <font color="#008000">"v4m_c_c"</font><font color="#4000C0">:</font> <font color="#0080C0">4000</font><font color="#4000C0">}</font>

    <font color="#C00000">for</font> <font color="#000000">ename</font><font color="#4000C0">,</font><font color="#000000">edef</font> <font color="#C00000">in</font> <font color="#000000">v4m_exprs</font><font color="#4000C0">.</font><font color="#000000">items</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#000000">ename</font><font color="#4000C0">,</font><font color="#000000">edef</font><font color="#4000C0">)</font><font color="#4000C0">;</font>
        <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#000000">ename</font><font color="#4000C0">)</font>
        <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#000000">tag_name</font><font color="#4000C0">)</font>
        <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">tag_name</font> <font color="#4000C0">+</font> <font color="#008000">"_"</font> <font color="#4000C0">+</font> <font color="#000000">ename</font><font color="#4000C0">)</font>
        <font color="#a02030"># value check</font>
        <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">"minmax"</font><font color="#4000C0">)</font>
        <font color="#a02030"># We expect:</font>
        <font color="#000000">res</font> <font color="#4000C0">=</font> <font color="#000000">GetQueryOutputObject</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">print</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">)</font>
        <font color="#a02030">#int(res["max"]) == v4m_test_vals[ename]</font>
        <font color="#a02030">#int(res["min"]) == 0</font>
        <font color="#000000">TestValueEQ</font><font color="#4000C0">(</font><font color="#008000">"testeq_"</font> <font color="#4000C0">+</font> <font color="#000000">ename</font> <font color="#4000C0">+</font> <font color="#008000">"_max"</font><font color="#4000C0">,</font><font color="#000000">int</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">[</font><font color="#008000">"max"</font><font color="#4000C0">]</font><font color="#4000C0">)</font><font color="#4000C0">,</font><font color="#000000">v4m_test_vals</font><font color="#4000C0">[</font><font color="#000000">ename</font><font color="#4000C0">]</font><font color="#4000C0">)</font>
        <font color="#000000">TestValueEQ</font><font color="#4000C0">(</font><font color="#008000">"testeq_"</font> <font color="#4000C0">+</font> <font color="#000000">ename</font> <font color="#4000C0">+</font> <font color="#008000">"_min"</font><font color="#4000C0">,</font><font color="#000000">int</font><font color="#4000C0">(</font><font color="#000000">res</font><font color="#4000C0">[</font><font color="#008000">"min"</font><font color="#4000C0">]</font><font color="#4000C0">)</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">)</font>
        <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">venn_db_file</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test_paren_vars</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Variables With Parens"</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Testing bugfix for issue #4882.</font>
    <font color="#a02030">#</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">uniform_root</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_topo/rho.Y_lp_CH2O_rp_"</font><font color="#4000C0">)</font>
    <font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#008000">"3d"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"paren_vars_00"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">uniform_root</font><font color="#4000C0">)</font>


<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"2D Example JSON Mesh Files"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_json_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_2d_meshes</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_2d_json"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_json_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"2D Example HDF5 Mesh Files"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_hdf5_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_2d_meshes</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_2d_hdf5"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_hdf5_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"2D Example Sidre HDF5 Mesh Files"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_sidre_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_2d_meshes</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_2d_sidre_hdf5"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_sidre_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"3D Example JSON Mesh Files"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_json_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_3d_meshes</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_3d_json"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_json_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"3D Example HDF5 Mesh Files"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_hdf5_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_3d_meshes</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_3d_hdf5"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_hdf5_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"3D Example Sidre HDF5 Mesh Files"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_sidre_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_3d_meshes</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_3d_sidre_hdf5"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_sidre_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"MFEM Blueprint Example Data Tests"</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">example</font> <font color="#C00000">in</font> <font color="#000000">mfem_ex9_examples</font><font color="#4000C0">:</font>
    <font color="#C00000">for</font> <font color="#000000">protocol</font> <font color="#C00000">in</font> <font color="#000000">mfem_ex9_protocols</font><font color="#4000C0">:</font>
        <font color="#000000">test_mfem</font><font color="#4000C0">(</font><font color="#008000">"blueprint_mfem_"</font> <font color="#4000C0">+</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">dim</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"MFEM LOR Mesh Blueprint Tests"</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">example</font> <font color="#C00000">in</font> <font color="#000000">mfem_ex9_examples</font><font color="#4000C0">:</font>
    <font color="#C00000">for</font> <font color="#000000">protocol</font> <font color="#C00000">in</font> <font color="#000000">mfem_ex9_protocols</font><font color="#4000C0">:</font>
        <font color="#000000">test_mfem_lor_mesh</font><font color="#4000C0">(</font><font color="#008000">"blueprint_mfem_"</font> <font color="#4000C0">+</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">dim</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">protocol</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">example</font> <font color="#C00000">in</font> <font color="#000000">devilray_mfem_examples</font><font color="#4000C0">:</font>
    <font color="#000000">test_mfem_lor_mesh</font><font color="#4000C0">(</font><font color="#008000">"blueprint_mfem_"</font> <font color="#4000C0">+</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">dim</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#008000">""</font><font color="#4000C0">,</font> <font color="#000000">devilray</font> <font color="#4000C0">=</font> <font color="#C00000">True</font><font color="#4000C0">,</font> <font color="#000000">number</font> <font color="#4000C0">=</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">number</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"MFEM LOR Field Blueprint Tests"</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">example</font> <font color="#C00000">in</font> <font color="#000000">devilray_mfem_examples</font><font color="#4000C0">:</font>
    <font color="#000000">test_mfem_lor_field</font><font color="#4000C0">(</font><font color="#008000">"blueprint_mfem_"</font> <font color="#4000C0">+</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">dim</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">name</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">number</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">pseudo_fields</font><font color="#4000C0">,</font> <font color="#000000">example</font><font color="#4000C0">.</font><font color="#000000">vector_fields</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Blueprint Expressions"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_json_root</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"uniform_mesh/scalar_expr"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Vector"</font><font color="#4000C0">,</font> <font color="#008000">"uniform_mesh/vector_expr"</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">set_test_view</font><font color="#4000C0">(</font><font color="#008000">"2d"</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"blueprint_expressions"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_json_root</font><font color="#4000C0">)</font>

<font color="#000000">test_paren_vars</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#008000">"venn_small_full"</font><font color="#4000C0">,</font> <font color="#000000">venn_full_root</font><font color="#4000C0">)</font>
<font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#008000">"venn_small_sparse_by_element"</font><font color="#4000C0">,</font> <font color="#000000">venn_s_by_e_root</font><font color="#4000C0">)</font>
<font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#008000">"venn_small_sparse_by_material"</font><font color="#4000C0">,</font> <font color="#000000">venn_s_by_m_root</font><font color="#4000C0">)</font>

<font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#008000">"venn_small_full_yaml"</font><font color="#4000C0">,</font> <font color="#000000">venn_full_yaml_root</font><font color="#4000C0">)</font>
<font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#008000">"venn_small_sparse_by_element_yaml"</font><font color="#4000C0">,</font> <font color="#000000">venn_s_by_e_yaml_root</font><font color="#4000C0">)</font>
<font color="#000000">test_venn</font><font color="#4000C0">(</font><font color="#008000">"venn_small_sparse_by_material_yaml"</font><font color="#4000C0">,</font> <font color="#000000">venn_s_by_m_yaml_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"2D Example HDF5 Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_0_8_2_hdf5_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_2d_meshes_0_8_2</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_2d_hdf5_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_0_8_2_hdf5_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"2D Example YAML Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_0_8_2_yaml_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_2d_meshes_0_8_2</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_2d_yaml_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_2d_0_8_2_yaml_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"3D Example HDF5 Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_0_8_2_hdf5_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_3d_meshes_0_8_2</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_3d_hdf5_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_0_8_2_hdf5_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"3D Example YAML Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_0_8_2_yaml_root</font><font color="#4000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">mesh_name</font> <font color="#C00000">in</font> <font color="#000000">braid_3d_meshes_0_8_2</font><font color="#4000C0">:</font>
    <font color="#000000">test</font><font color="#4000C0">(</font><font color="#000000">mesh_name</font><font color="#4000C0">,</font><font color="#008000">"blueprint_3d_yaml_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">braid_3d_0_8_2_yaml_root</font><font color="#4000C0">)</font>

<font color="#a02030"># test polygonal mesh</font>
<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Polygonal 2D Example HDF5 Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_2d_hdf5_root</font><font color="#4000C0">)</font>
<font color="#000000">test_poly</font><font color="#4000C0">(</font><font color="#008000">"blueprint_poly_2d_hdf5_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_2d_hdf5_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Polygonal 2D Example YAML Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_2d_yaml_root</font><font color="#4000C0">)</font>
<font color="#000000">test_poly</font><font color="#4000C0">(</font><font color="#008000">"blueprint_poly_2d_yaml_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_2d_yaml_root</font><font color="#4000C0">)</font>

<font color="#a02030"># test 3d polygonal mesh</font>
<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Polygonal 3D Example HDF5 Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_3d_hdf5_root</font><font color="#4000C0">)</font>
<font color="#000000">test_poly</font><font color="#4000C0">(</font><font color="#008000">"blueprint_poly_3d_hdf5_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_3d_hdf5_root</font><font color="#4000C0">)</font>

<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Polygonal 3D Example YAML Mesh Files, 0.8.2"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_3d_yaml_root</font><font color="#4000C0">)</font>
<font color="#000000">test_poly</font><font color="#4000C0">(</font><font color="#008000">"blueprint_poly_3d_yaml_0_8_2"</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">poly_3d_yaml_root</font><font color="#4000C0">)</font>


<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Blueprint with Partition Map Style Index, 0.8.4"</font><font color="#4000C0">)</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_root</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Subset"</font><font color="#4000C0">,</font><font color="#008000">"domains"</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_part_map_index_example"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_root</font><font color="#4000C0">)</font>
<font color="#a02030"># single file test case</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_single_file_root</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font><font color="#008000">"mesh_mesh/braid"</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_part_map_index_single_file_example"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_part_map_single_file_root</font><font color="#4000C0">)</font>
<font color="#a02030"># sparse topos case</font>
<font color="#a02030"># single file test case</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_sparse_topos_root</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font><font color="#008000">"mesh_topo/topo_field"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font><font color="#008000">"mesh_pts_topo/pts_field"</font><font color="#4000C0">)</font>
<font color="#a02030"># change plot adds so we can see the points</font>
<font color="#000000">pc_atts</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">Sphere</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">pc_atts</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_sparse_topos_example"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_sparse_topos_root</font><font color="#4000C0">)</font>

<font color="#a02030"># other spiral test cases, which have both index styles</font>
<font color="#C00000">for</font> <font color="#000000">i</font><font color="#4000C0">,</font> <font color="#000000">root_file</font> <font color="#C00000">in</font> <font color="#000000">enumerate</font><font color="#4000C0">(</font><font color="#000000">bp_spiral_part_map_examples</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">root_file</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Subset"</font><font color="#4000C0">,</font><font color="#008000">"domains"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># spiral cases are labeled -1 to 8</font>
    <font color="#000000">case_name</font> <font color="#4000C0">=</font> <font color="#008000">"bp_part_map_spiral_case_{0}"</font><font color="#4000C0">.</font><font color="#000000">format</font><font color="#4000C0">(</font><font color="#000000">i</font><font color="#4000C0">-</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">case_name</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">root_file</font><font color="#4000C0">)</font>


<font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Blueprint Strided Structured, 0.8.4"</font><font color="#4000C0">)</font>
<font color="#a02030"># 2d</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_struct_strided_2d_root</font><font color="#4000C0">)</font>
<font color="#a02030"># ele vals</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_mesh/ele_vals"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_orig_pts/orig_ele_vals"</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">0.5</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">Sphere</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">pc_atts</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_strided_struct_2d_ele_vals"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#a02030"># vert vals</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_mesh/vert_vals"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_orig_pts/orig_vert_vals"</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">0.5</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">Sphere</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">pc_atts</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_strided_struct_2d_vert_vals"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_struct_strided_2d_root</font><font color="#4000C0">)</font>

<font color="#a02030"># 2d</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_struct_strided_3d_root</font><font color="#4000C0">)</font>
<font color="#a02030"># ele vals</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_mesh/ele_vals"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_orig_pts/orig_ele_vals"</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">0.5</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">Sphere</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">pc_atts</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_strided_struct_3d_ele_vals"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#a02030"># vert vals</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_mesh/vert_vals"</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"mesh_orig_pts/orig_vert_vals"</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointSize</font> <font color="#4000C0">=</font> <font color="#0080C0">0.5</font>
<font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">pointType</font> <font color="#4000C0">=</font> <font color="#000000">pc_atts</font><font color="#4000C0">.</font><font color="#000000">Sphere</font>
<font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">pc_atts</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"bp_strided_struct_3d_vert_vals"</font><font color="#4000C0">)</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">bp_struct_strided_3d_root</font><font color="#4000C0">)</font>


<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>