<html><body bgcolor="#e0e0e0"><head><title>session/legendproperties.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  legendproperties.py</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Notes:      This test case sets legend properties and makes sure that they</font>
<font color="#a02030">#              can be accessed via uses a session file to create a plot that uses</font>
<font color="#a02030">#              a user defined color table. This makes sure that user defined</font>
<font color="#a02030">#              color tables can be used from session files. VisIt00004000.</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Brad Whitlock</font>
<font color="#a02030">#  Date:       Mon Mar 26 10:48:25 PDT 2007</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#    Brad Whitlock, Thu Jul 22 11:03:42 PDT 2010</font>
<font color="#a02030">#    Force some save window settings so testing routines don't mess up in</font>
<font color="#a02030">#    the scalable,parallel,icet mode. VisIt itself, outside of testing doesn't</font>
<font color="#a02030">#    have problems as far as I can tell so we're working around "issues" with</font>
<font color="#a02030">#    our testing routines.</font>
<font color="#a02030">#    </font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>

<font color="#a02030"># Get the save window atts and force a few settings.</font>
<font color="#000000">sa</font> <font color="#4000C0">=</font> <font color="#000000">GetSaveWindowAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">sa</font><font color="#4000C0">.</font><font color="#000000">screenCapture</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">sa</font><font color="#4000C0">.</font><font color="#000000">width</font><font color="#4000C0">,</font><font color="#000000">sa</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">300</font><font color="#4000C0">,</font><font color="#0080C0">300</font>

<font color="#000000">TurnOnAllAnnotations</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">RestoreSessionWithDifferentSources</font><font color="#4000C0">(</font><font color="#000000">tests_path</font><font color="#4000C0">(</font><font color="#008000">"session"</font><font color="#4000C0">,</font><font color="#008000">"legendproperties.session"</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font>
                                   <font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">"bigsil.silo"</font><font color="#4000C0">)</font><font color="#4000C0">)</font>


<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"legendproperties00"</font><font color="#4000C0">,</font> <font color="#000000">altSWA</font><font color="#4000C0">=</font><font color="#000000">sa</font><font color="#4000C0">)</font>

<font color="#a02030"># Now that we've restored the session, see if we can get the legend objects</font>
<font color="#a02030"># and change them.</font>
<font color="#000000">subsetLegend</font> <font color="#4000C0">=</font> <font color="#000000">GetAnnotationObject</font><font color="#4000C0">(</font><font color="#000000">GetPlotList</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">.</font><font color="#000000">GetPlots</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">)</font><font color="#4000C0">.</font><font color="#000000">plotName</font><font color="#4000C0">)</font>
<font color="#000000">pcLegend</font> <font color="#4000C0">=</font> <font color="#000000">GetAnnotationObject</font><font color="#4000C0">(</font><font color="#000000">GetPlotList</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">.</font><font color="#000000">GetPlots</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font><font color="#4000C0">.</font><font color="#000000">plotName</font><font color="#4000C0">)</font>

<font color="#000000">subsetLegend</font><font color="#4000C0">.</font><font color="#000000">drawBoundingBox</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">pcLegend</font><font color="#4000C0">.</font><font color="#000000">drawBoundingBox</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"legendproperties01"</font><font color="#4000C0">,</font> <font color="#000000">altSWA</font><font color="#4000C0">=</font><font color="#000000">sa</font><font color="#4000C0">)</font>

<font color="#a02030"># Make sure that the plots are deleted</font>
<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>