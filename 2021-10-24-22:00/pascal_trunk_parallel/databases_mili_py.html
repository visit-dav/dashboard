<html><body bgcolor="#e0e0e0"><head><title>databases/mili.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  mili.py</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      mesh      - 3D unstructured, multi-domain</font>
<font color="#a02030">#              plots     - Pseudocolor, material, vector, tensor, label</font>
<font color="#a02030">#</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Alister Maguire</font>
<font color="#a02030">#  Date:       May 22, 2019</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Mon Aug  5 13:02:05 MST 2019</font>
<font color="#a02030">#    Added a test that handles .mili files containing integers in</font>
<font color="#a02030">#    scientific notation.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Thu Dec 19 13:40:07 PST 2019</font>
<font color="#a02030">#    Added a test to make sure correct subrecord offsets are used.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Wed Jul 15 13:38:17 PDT 2020</font>
<font color="#a02030">#    Added test sections and derived variable test.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Wed Mar 24 16:06:33 PDT 2021</font>
<font color="#a02030">#    Added a test for setting/changing the global integration point.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Alister Maguire, Fri Mar 26 10:25:08 PDT 2021</font>
<font color="#a02030">#    Added more tests for derived variables (stress, strain, sand mesh).</font>
<font color="#a02030">#</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#000000">RequiredDatabasePlugin</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">)</font>
<font color="#000000">single_domain_path</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"mili_test_data/single_proc/"</font><font color="#4000C0">)</font>
<font color="#000000">multi_domain_path</font>  <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">"mili_test_data/multi_proc/"</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestComponentVis</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Vector components"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/edrate"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_brick_comp"</font><font color="#4000C0">)</font>

    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/beam/svec/svec_x"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_beam_comp"</font><font color="#4000C0">)</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/node/nodacc/ax"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_nodacc_comp"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestSharedElementSets</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Shared element sets"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/strain/exy"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_shared_es_01"</font><font color="#4000C0">)</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/Shared/edrate"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_shared_es_02"</font><font color="#4000C0">)</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/Shared/stress/sy"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_shared_es_03"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestNonSharedElementSets</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Non-shared element sets"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030">#  eps is a section of an element set that is only</font>
    <font color="#a02030">#  defined on beams.</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/beam/eps"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_non_shared_es_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestMaterialVar</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Material variables"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/mat/matcgy"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_mat_var_01"</font><font color="#4000C0">)</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/mat/matke"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_mat_var_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestTensors</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Tensors"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Tensor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/stress"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_tensors_01"</font><font color="#4000C0">)</font>

    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/Shared/strain"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_tensors_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestVectors</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Vectors"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Vector"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/node/nodpos"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_vectors_01"</font><font color="#4000C0">)</font>

    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/shell/bend"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_vectors_02"</font><font color="#4000C0">)</font>

    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/beam/svec"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_vectors_03"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestSandMesh</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Sand mesh"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/m_plot.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">101</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># First, let's look at the sand variable on a non-sanded mesh.</font>
    <font color="#a02030"># It should be well structured.</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font> <font color="#008000">"mesh1"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/sand"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_sand_mesh_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Now let's view the sand mesh. It's a mess.</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font> <font color="#008000">"sand_mesh1"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/sand"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_sand_mesh_02"</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Now let's look at sand in its sanded state.</font>
    <font color="#a02030">#</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"sand_mesh/Primal/Shared/sand"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_sand_mesh_03"</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># We need to make sure that other variables can also be</font>
    <font color="#a02030"># viewed in their sanded state.</font>
    <font color="#a02030">#</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"sand_mesh/Primal/shell/stress_mid/sx"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_sand_mesh_04"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestMaterials</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#a02030">#</font>
    <font color="#a02030"># The tests need to be in this order to work around a bug in</font>
    <font color="#a02030"># the filled boundary plot with getting colors from a database</font>
    <font color="#a02030"># that causes the colors to be set the same for subsequent</font>
    <font color="#a02030"># filled boundary plots where the colors are not set in the</font>
    <font color="#a02030"># database.</font>
    <font color="#a02030">#</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Materials"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/sslide14ball_l.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">12</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"FilledBoundary"</font><font color="#4000C0">,</font> <font color="#008000">"materials1"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_materials_00"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">70</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"FilledBoundary"</font><font color="#4000C0">,</font> <font color="#008000">"materials1(mesh1)"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_materials_01"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">TestMultiDomain</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Multi-domain"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">multi_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/strain/exy"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_multi_dom_01"</font><font color="#4000C0">)</font>
    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">"Primal/Shared/stress/sz"</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_multi_dom_02"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestParticles</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Particles"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/sslide14ball_l.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/particle/stress/sxy"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_particle_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestStaticNodes</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Static nodes"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/m1_plot.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Mesh"</font><font color="#4000C0">,</font> <font color="#008000">"mesh1"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/node/temp"</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">10</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_static_nodes_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestLabels</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Labels"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/edrate"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Label"</font><font color="#4000C0">,</font> <font color="#008000">"OriginalZoneLabels"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_zone_labels_01"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/edrate"</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Label"</font><font color="#4000C0">,</font> <font color="#008000">"OriginalNodeLabels"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_node_labels_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestSciNotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Sci notation read"</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#a02030"># Some .mili files contain integers in scientific notation.</font>
    <font color="#a02030"># These need to be handled appropriately.</font>
    <font color="#a02030">#</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/HexModel1.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/brick/stress/sx"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_from_sci_not"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestMultiSubrecRead</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Multi-subrecord read"</font><font color="#4000C0">)</font>
    <font color="#a02030">#</font>
    <font color="#a02030"># This tests a bug fix that occurred when loading variables</font>
    <font color="#a02030"># that span several subrecords at different offsets.</font>
    <font color="#a02030">#</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/test4_0.15.plt.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/brick/stress/sx"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_subrec_offset"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestDerivedVariables</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Derived variables"</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/m_plot.mili"</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.49</font><font color="#4000C0">,</font> <font color="#0080C0">0.19</font><font color="#4000C0">,</font> <font color="#0080C0">0.85</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>

    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">85</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Node centered derivations.</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/node/displacement/dispx"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_00"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/node/displacement/dispy"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_01"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/node/displacement/dispz"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_02"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Vector"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/node/displacement"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_03"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"sand_mesh/Derived/node/displacement/dispz"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_04"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Stress/strain derivations. In m_plot, only stress comes from</font>
    <font color="#a02030"># the database, and we derive strain and all of its derivations</font>
    <font color="#a02030"># using VisIt expressions.</font>
    <font color="#a02030">#</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/brick/stress/prin_stress/2"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_05"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/brick/stress/pressure"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_06"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/Shared/strain/almansi/max_shear_almansi"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_07"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font>
        <font color="#008000">"Derived/Shared/strain/green_lagrange/prin_dev_green_lagrange/2"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_08"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/Shared/strain/infinitesimal/x"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_09"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/Shared/strain/rate/yz"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_10"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"sand_mesh/Derived/Shared/strain/rate/yz"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_11"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Tensor"</font><font color="#4000C0">,</font> <font color="#008000">"Derived/Shared/strain/green_lagrange"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_derived_12"</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">TestGlobalIntegrationPoint</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">"Global integration point"</font><font color="#4000C0">)</font>

    <font color="#000000">db_path</font> <font color="#4000C0">=</font> <font color="#000000">single_domain_path</font> <font color="#4000C0">+</font> <font color="#008000">"/d3samp6.plt.mili"</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db_path</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView3D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.9</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.88</font><font color="#4000C0">)</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetTimeSliderState</font><font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">"Pseudocolor"</font><font color="#4000C0">,</font> <font color="#008000">"Primal/Shared/strain/exy"</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">mili_options</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">)</font>
    <font color="#000000">mili_options</font><font color="#4000C0">[</font><font color="#008000">"Global integration point"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"Inner"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">,</font> <font color="#000000">mili_options</font><font color="#4000C0">)</font>
    <font color="#000000">ReOpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db_path</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_global_ip_00"</font><font color="#4000C0">)</font>

    <font color="#000000">mili_options</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">)</font>
    <font color="#000000">mili_options</font><font color="#4000C0">[</font><font color="#008000">"Global integration point"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"Middle"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">,</font> <font color="#000000">mili_options</font><font color="#4000C0">)</font>
    <font color="#000000">ReOpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db_path</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_global_ip_01"</font><font color="#4000C0">)</font>

    <font color="#000000">mili_options</font> <font color="#4000C0">=</font> <font color="#000000">GetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">)</font>
    <font color="#000000">mili_options</font><font color="#4000C0">[</font><font color="#008000">"Global integration point"</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#008000">"Outer"</font>
    <font color="#000000">SetDefaultFileOpenOptions</font><font color="#4000C0">(</font><font color="#008000">"Mili"</font><font color="#4000C0">,</font> <font color="#000000">mili_options</font><font color="#4000C0">)</font>
    <font color="#000000">ReOpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db_path</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">"mili_global_ip_02"</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">db_path</font><font color="#4000C0">)</font>


<font color="#C00000">def</font> <font color="#000000">Main</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestComponentVis</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestNonSharedElementSets</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestSharedElementSets</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestMaterialVar</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestTensors</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestVectors</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestSandMesh</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestMaterials</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestMultiDomain</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestParticles</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestStaticNodes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestLabels</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestSciNotation</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestMultiSubrecRead</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestDerivedVariables</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TestGlobalIntegrationPoint</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">Main</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>