<html><body bgcolor="#e0e0e0"><head><title>rendering/text2d.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  text2d.py</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      mesh        - 2D curvilinear, single domain</font>
<font color="#a02030">#              plots       - Pseudocolor</font>
<font color="#a02030">#              annotations - Text2D</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Defect ID:  None</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Brad Whitlock</font>
<font color="#a02030">#  Date:       Thu Dec 4 14:39:21 PST 2003</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Mark C. Miller, Wed Jan 20 07:37:11 PST 2010</font>
<font color="#a02030">#    Added ability to swtich between Silo&#x27;s HDF5 and PDB data.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Brad Whitlock, Tue Feb 28 12:00:21 PST 2012</font>
<font color="#a02030">#    Add test for words that used to get truncated.</font>
<font color="#a02030">#</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>

<font color="#a02030"># Set up the annotation colors, etc.</font>
<font color="#000000">a</font> <font color="#4000C0">=</font> <font color="#000000">GetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">80</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">100</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">foregroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundMode</font> <font color="#4000C0">=</font> <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">Solid</font>
<font color="#000000">SetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#000000">a</font><font color="#4000C0">)</font>

<font color="#a02030"># Open up the database and do a plot.</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;curv2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;u&quot;</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#a02030"># Create a Text2D object</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text2D&quot;</font><font color="#4000C0">)</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Pseudocolor plot!&quot;</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.05</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.25</font><font color="#4000C0">,</font> <font color="#0080C0">0.45</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d00&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Set the foreground color to see if it changes</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">foregroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">SetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#000000">a</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d01&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Test solid text color</font>
<font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">foregroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">SetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#000000">a</font><font color="#4000C0">)</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">useForegroundForTextColor</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">textColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d02&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Test text opacity</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.18</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.25</font><font color="#4000C0">,</font> <font color="#0080C0">0.45</font><font color="#4000C0">)</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">textColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">150</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d03&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Set the text atts</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">textColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">useForegroundForTextColor</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.05</font>

<font color="#a02030"># Create more text objects</font>
<font color="#000000">courier</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text2D&quot;</font><font color="#4000C0">)</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Courier&quot;</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">fontFamily</font> <font color="#4000C0">=</font> <font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">Courier</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.25</font><font color="#4000C0">,</font> <font color="#0080C0">0.35</font><font color="#4000C0">)</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.06</font>
<font color="#000000">times</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text2D&quot;</font><font color="#4000C0">)</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Times&quot;</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">fontFamily</font> <font color="#4000C0">=</font> <font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">Times</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.25</font><font color="#4000C0">,</font> <font color="#0080C0">0.25</font><font color="#4000C0">)</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.07</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d04&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Set the bold flag</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">fontBold</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">fontBold</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">fontBold</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d05&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Set the italic flag</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">fontItalic</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">fontItalic</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">fontItalic</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d06&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Set the shadow flag</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">fontShadow</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">fontShadow</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">fontShadow</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d07&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Start Removing text</font>
<font color="#000000">courier</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d08&quot;</font><font color="#4000C0">)</font>
<font color="#000000">times</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d09&quot;</font><font color="#4000C0">)</font>
<font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d10&quot;</font><font color="#4000C0">)</font>

<font color="#a02030"># Test for words that used to get truncated</font>
<font color="#000000">erg</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text2D&quot;</font><font color="#4000C0">)</font>
<font color="#000000">erg</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.3</font><font color="#4000C0">)</font>
<font color="#000000">erg</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Erg&quot;</font>
<font color="#000000">erg</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.08</font>
<font color="#000000">erg</font><font color="#4000C0">.</font><font color="#000000">useForegroundForTextColor</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">erg</font><font color="#4000C0">.</font><font color="#000000">textColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">era</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text2D&quot;</font><font color="#4000C0">)</font>
<font color="#000000">era</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.2</font><font color="#4000C0">)</font>
<font color="#000000">era</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;    Era&quot;</font>
<font color="#000000">era</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.12</font>
<font color="#000000">era</font><font color="#4000C0">.</font><font color="#000000">useForegroundForTextColor</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
<font color="#000000">era</font><font color="#4000C0">.</font><font color="#000000">textColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
<font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;text2d11&quot;</font><font color="#4000C0">)</font>

<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>