<html><body bgcolor="#e0e0e0"><head><title>queries/variable_sum_volume.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  volume.py</font>
<font color="#a02030">#  Tests:      queries     - volumes of various material selected regions</font>
<font color="#a02030">#                          - weighted volume of dataset with cells of different</font>
<font color="#a02030">#                               dimension.</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Eddie Rusu</font>
<font color="#a02030">#  Date:       January 14, 2020</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>

<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;silo_pdb_test_data/ucd3d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mesh_quality/ucdmesh3d/volume&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">SetQueryFloatFormat</font><font color="#4000C0">(</font><font color="#008000">&quot;%g&quot;</font><font color="#4000C0">)</font>
<font color="#a02030"># Material 1</font>
<font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">&quot;4&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;9&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_1&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#a02030"># Material 4</font>
<font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#008000">&quot;1&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#008000">&quot;4&quot;</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_4&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#a02030"># Material 9</font>
<font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#008000">&quot;4&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#008000">&quot;9&quot;</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_9&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#a02030"># Material 14</font>
<font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#008000">&quot;9&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#008000">&quot;1&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;4&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_14&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#a02030"># Material 19</font>
<font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#008000">&quot;4&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#008000">&quot;9&quot;</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_19&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#a02030"># Material 49</font>
<font color="#000000">TurnMaterialsOff</font><font color="#4000C0">(</font><font color="#008000">&quot;1&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#008000">&quot;4&quot;</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_49&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#a02030"># Material 149</font>
<font color="#000000">TurnMaterialsOn</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;mat_149&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;silo_pdb_test_data/ucd3d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#a02030"># Weighted volume query on cells of different dimension</font>
<font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;silo_pdb_test_data/multi_dim_cells.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
<font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;coordx&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
<font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">Query</font><font color="#4000C0">(</font><font color="#008000">&quot;Weighted Variable Sum&quot;</font><font color="#4000C0">)</font>
<font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;vws_mult_dim&quot;</font><font color="#4000C0">,</font> <font color="#000000">text</font><font color="#4000C0">)</font>

<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>