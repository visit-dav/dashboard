<html><body bgcolor="#e0e0e0"><head><title>rendering/annot_macros.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  annot_macros.py</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      mesh        - 2D curvilinear, single domain</font>
<font color="#a02030">#              plots       - Pseudocolor</font>
<font color="#a02030">#              annotations - Text2D</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Defect ID:  None</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Mark C. Miller, Thu Nov  7 14:17:54 PST 2024</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#C00000">import</font> <font color="#000000">os</font>

<font color="#C00000">def</font> <font color="#000000">create_text2d_annot</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text2D&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.03</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.10</font><font color="#4000C0">,</font> <font color="#0080C0">0.75</font><font color="#4000C0">)</font>
    <font color="#C00000">return</font> <font color="#000000">text</font>

<font color="#C00000">def</font> <font color="#000000">allmacros</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#008000">&quot;&quot;&quot;All non-empty macros in all text modes&quot;&quot;&quot;</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Loop through through all macros rendering with default format</font>
    <font color="#a02030"># both as 2D text and as 3D text. We skip &quot;lod&quot;, &quot;xunits&quot;, &quot;yunits&quot;,</font>
    <font color="#a02030"># &quot;zunits&quot; and &quot;varunits&quot; because the input database has no values</font>
    <font color="#a02030"># specified for these.</font>
    <font color="#a02030">#</font>
    <font color="#000000">macroNames</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#008000">&quot;time&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;cycle&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;index&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;numstates&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;dbcomment&quot;</font><font color="#4000C0">,</font>
        <font color="#008000">&quot;vardim&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;numvar&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;topodim&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;spatialdim&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;varname&quot;</font><font color="#4000C0">,</font>
        <font color="#008000">&quot;meshname&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;filename&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;fulldbname&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;xlabel&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;ylabel&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;zlabel&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">text2d</font> <font color="#4000C0">=</font> <font color="#000000">create_text2d_annot</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text3d</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;Text3D&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">text3d</font><font color="#4000C0">.</font><font color="#000000">heightMode</font> <font color="#4000C0">=</font> <font color="#000000">text3d</font><font color="#4000C0">.</font><font color="#000000">Relative</font>
    <font color="#000000">text3d</font><font color="#4000C0">.</font><font color="#000000">relativeHeight</font> <font color="#4000C0">=</font> <font color="#0080C0">0.03</font>
    <font color="#000000">text3d</font><font color="#4000C0">.</font><font color="#000000">position</font><font color="#4000C0">=</font><font color="#4000C0">(</font><font color="#0080C0">2.0</font><font color="#4000C0">,</font> <font color="#0080C0">1.0</font><font color="#4000C0">,</font> <font color="#0080C0">7.0</font><font color="#4000C0">)</font>
    <font color="#000000">textts</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;TimeSlider&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">textts</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.15</font>
    <font color="#000000">textts</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.05</font><font color="#4000C0">,</font> <font color="#0080C0">0.1</font><font color="#4000C0">)</font>
    <font color="#C00000">for</font> <font color="#000000">mtext</font> <font color="#C00000">in</font> <font color="#000000">macroNames</font><font color="#4000C0">:</font>
        <font color="#000000">text2d</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;%s $%s&quot;</font><font color="#4000C0">%</font><font color="#4000C0">(</font><font color="#000000">mtext</font><font color="#4000C0">,</font> <font color="#000000">mtext</font><font color="#4000C0">)</font>
        <font color="#000000">text3d</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;%s $%s&quot;</font><font color="#4000C0">%</font><font color="#4000C0">(</font><font color="#000000">mtext</font><font color="#4000C0">,</font> <font color="#000000">mtext</font><font color="#4000C0">)</font>
        <font color="#000000">textts</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;%s $%s&quot;</font><font color="#4000C0">%</font><font color="#4000C0">(</font><font color="#000000">mtext</font><font color="#4000C0">,</font> <font color="#000000">mtext</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text2d</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text3d</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">textts</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">multimacro</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#008000">&quot;&quot;&quot;Multiple macros in same annotation&quot;&quot;&quot;</font>

    <font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">create_text2d_annot</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;State $index of $numstates&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Time,Cycle,Index=($time,$cycle,$index)&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Cycle,Cycle,Cycle=($cycle,$cycle,$cycle)&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">printf</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#008000">&quot;&quot;&quot;Printf formatting of $macro%fmt$&quot;&quot;&quot;</font>

    <font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">create_text2d_annot</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print index/state always with 4 digits and leading zeros</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;State $index%04d$ of $numstates%06d$&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print index in hexadecimal format</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Index=0X$index%X$&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print time with 12 width and 6 after decimal pt.</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Time=$time%12.6f$&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print time with 20 width, leading sign, 10 after decimal pt.</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Time=$time%+20.10f$&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print time with 10 char width, 6 precision, exponential format.</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Time=$time%+10.6e$&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print time with %A (hex) to see full precision of actual value</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Time=$time ($time%A$)&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print first 3 chars of meshname</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;First 3 chars meshname=&#x27;$meshname%.3s$&#x27;&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Print first 3 chars of meshname</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Left justified in 6 chars meshname=&#x27;$meshname%-6.6s$&#x27;&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#a02030"># Handling % and $ chars in string</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;State $index%02d$ of $numstates%02d$ = &quot;</font> <font color="#4000C0">+</font> <font color="#008000">&quot;%2d%%&quot;</font><font color="#4000C0">%</font><font color="#4000C0">(</font><font color="#0080C0">100</font><font color="#4000C0">*</font><font color="#000000">float</font><font color="#4000C0">(</font><font color="#0080C0">13</font><font color="#4000C0">)</font><font color="#4000C0">/</font><font color="#000000">float</font><font color="#4000C0">(</font><font color="#000000">TimeSliderGetNStates</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;State $index is 18.3% into $numstates&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;$cycle $US, $cycle$US&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">tafile</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#008000">&quot;&quot;&quot;Text annotation file (tafile) macros&quot;&quot;&quot;</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Create lists of 71 float values for &quot;ftafile1.txt&quot; and string values </font>
    <font color="#a02030"># for &quot;stafile1.txt&quot; starting at 0.</font>
    <font color="#a02030">#</font>
    <font color="#000000">fvals</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#4000C0">]</font> <font color="#a02030"># float values</font>
    <font color="#000000">svals</font> <font color="#4000C0">=</font> <font color="#4000C0">[</font><font color="#4000C0">]</font> <font color="#a02030"># string values</font>
    <font color="#C00000">for</font> <font color="#000000">i</font> <font color="#C00000">in</font> <font color="#000000">range</font><font color="#4000C0">(</font><font color="#0080C0">71</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#000000">fvals</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#000000">i</font> <font color="#C00000">if</font> <font color="#000000">i</font><font color="#4000C0">%</font><font color="#0080C0">2</font><font color="#4000C0">==</font><font color="#0080C0">0</font> <font color="#C00000">else</font> <font color="#4000C0">-</font><font color="#000000">i</font><font color="#4000C0">)</font>
        <font color="#000000">svals</font><font color="#4000C0">.</font><font color="#000000">append</font><font color="#4000C0">(</font><font color="#008000">&quot;VisIt_%03d&quot;</font><font color="#4000C0">%</font><font color="#000000">i</font><font color="#4000C0">)</font>
    <font color="#000000">fvals</font><font color="#4000C0">[</font><font color="#0080C0">13</font><font color="#4000C0">]</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">13.333678</font>

    <font color="#C00000">try</font><font color="#4000C0">:</font>
        <font color="#a02030">#</font>
        <font color="#a02030"># Write the two lists to their repsective tafile files.</font>
        <font color="#a02030"># Note this is relying up on the tafile being peer to database file</font>
        <font color="#a02030"># method to locate these files. The other options are via ~/.visit</font>
        <font color="#a02030"># and via TMP both of which involve different paths for py code</font>
        <font color="#a02030"># on Windows and so are less attractive. This is inside a try...finally</font>
        <font color="#a02030"># block to ensure the created files are then later removed from</font>
        <font color="#a02030"># the silo data dir where they are created.</font>
        <font color="#a02030">#</font>
        <font color="#C00000">with</font> <font color="#000000">open</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;stafile1.txt&quot;</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#008000">&#x27;w&#x27;</font><font color="#4000C0">)</font> <font color="#C00000">as</font> <font color="#000000">file1</font><font color="#4000C0">,</font> \
             <font color="#000000">open</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;ftafile1.txt&quot;</font><font color="#4000C0">)</font><font color="#4000C0">,</font> <font color="#008000">&#x27;w&#x27;</font><font color="#4000C0">)</font> <font color="#C00000">as</font> <font color="#000000">file2</font><font color="#4000C0">:</font>
             <font color="#C00000">for</font> <font color="#000000">val1</font><font color="#4000C0">,</font> <font color="#000000">val2</font> <font color="#C00000">in</font> <font color="#000000">zip</font><font color="#4000C0">(</font><font color="#000000">svals</font><font color="#4000C0">,</font> <font color="#000000">fvals</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
                 <font color="#000000">file1</font><font color="#4000C0">.</font><font color="#000000">write</font><font color="#4000C0">(</font><font color="#000000">val1</font> <font color="#4000C0">+</font> <font color="#008000">&quot;\n&quot;</font><font color="#4000C0">)</font>
                 <font color="#000000">file2</font><font color="#4000C0">.</font><font color="#000000">write</font><font color="#4000C0">(</font><font color="#008000">f&quot;{val2:.8f}&quot;</font> <font color="#4000C0">+</font> <font color="#008000">&quot;\n&quot;</font><font color="#4000C0">)</font>

        <font color="#a02030"># Ok, now produce annotation text using $stafile1 and $ftafile1.</font>
        <font color="#a02030"># Move around in time steps a bit also.</font>
        <font color="#a02030">#</font>
        <font color="#a02030"># There are a couple of test results here where the plot can vary</font>
        <font color="#a02030"># slightly from run to run. We deal with that by allowing for a </font>
        <font color="#a02030"># very minor pixdiff (1/2 of a percent) threshold.</font>
        <font color="#a02030">#</font>
        <font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">create_text2d_annot</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;stafile=$stafile1, ftafile=$ftafile1&quot;</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderNextState</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderNextState</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#000000">pixdiff</font><font color="#4000C0">=</font><font color="#0080C0">0.5</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderSetState</font><font color="#4000C0">(</font><font color="#0080C0">5</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderSetState</font><font color="#4000C0">(</font><font color="#0080C0">13</font><font color="#4000C0">)</font>

        <font color="#a02030">#</font>
        <font color="#a02030"># tafiles macros combined with printf formats</font>
        <font color="#a02030">#</font>
        <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#008000">&quot;stafile=$stafile1%.3s$, ftafile=$ftafile1%8.3f$&quot;</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderNextState</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderNextState</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#000000">pixdiff</font><font color="#4000C0">=</font><font color="#0080C0">0.5</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderSetState</font><font color="#4000C0">(</font><font color="#0080C0">5</font><font color="#4000C0">)</font>
        <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">Delete</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">TimeSliderSetState</font><font color="#4000C0">(</font><font color="#0080C0">13</font><font color="#4000C0">)</font>

    <font color="#C00000">finally</font><font color="#4000C0">:</font>
        <font color="#000000">os</font><font color="#4000C0">.</font><font color="#000000">remove</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;stafile1.txt&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
        <font color="#000000">os</font><font color="#4000C0">.</font><font color="#000000">remove</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;ftafile1.txt&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">tsprintf</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#008000">&quot;&quot;&quot;Timeslider printf format handling&quot;&quot;&quot;</font>

    <font color="#000000">text</font> <font color="#4000C0">=</font> <font color="#000000">CreateAnnotationObject</font><font color="#4000C0">(</font><font color="#008000">&quot;TimeSlider&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">height</font> <font color="#4000C0">=</font> <font color="#0080C0">0.15</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">position</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.05</font><font color="#4000C0">,</font> <font color="#0080C0">0.1</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">timeFormatString</font> <font color="#4000C0">=</font> <font color="#008000">&quot;%0.4f&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">timeFormatString</font> <font color="#4000C0">=</font> <font color="#008000">&quot;&quot;</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font><font color="#4000C0">=</font><font color="#008000">&quot;Time=$time%-10.6E$&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">text</font><font color="#4000C0">=</font><font color="#008000">&quot;Time=$time&quot;</font>
    <font color="#000000">text</font><font color="#4000C0">.</font><font color="#000000">timeFormatString</font> <font color="#4000C0">=</font> <font color="#008000">&quot;%A&quot;</font>
    <font color="#000000">TestAutoName</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">init</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#008000">&quot;&quot;&quot;Initialization for all tests&quot;&quot;&quot;</font>

    <font color="#a02030"># Set up the annotation colors, etc.</font>
    <font color="#000000">a</font> <font color="#4000C0">=</font> <font color="#000000">GetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">80</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">100</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">foregroundColor</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">,</font> <font color="#0080C0">255</font><font color="#4000C0">)</font>
    <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">backgroundMode</font> <font color="#4000C0">=</font> <font color="#000000">a</font><font color="#4000C0">.</font><font color="#000000">Solid</font>
    <font color="#000000">SetAnnotationAttributes</font><font color="#4000C0">(</font><font color="#000000">a</font><font color="#4000C0">)</font>

    <font color="#a02030">#</font>
    <font color="#a02030"># Open up the one and only database to be used for all these</font>
    <font color="#a02030"># tests, add a plot set time step to something in the middle,</font>
    <font color="#a02030"># index=13</font>
    <font color="#a02030">#</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;wave.visit&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;pressure&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">TimeSliderSetState</font><font color="#4000C0">(</font><font color="#0080C0">13</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">finalize</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;wave.visit&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">main</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>

    <font color="#000000">init</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">allmacros</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">multimacro</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">printf</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">tafile</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">tsprintf</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">finalize</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">main</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>