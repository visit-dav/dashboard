<html><body bgcolor="#e0e0e0"><head><title>operators/remap.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  remap.py</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      remap operator</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Defect ID:  none</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Eddie Rusu</font>
<font color="#a02030">#  Date:       Fri Feb  1 11:16:24 PST 2019</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#     Eddie Rusu, Tue Apr 13 12:08:59 PDT 2021</font>
<font color="#a02030">#     Changed Pseudocolor CurrentPlot to ActualData.</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>

<font color="#C00000">def</font> <font color="#000000">remap</font><font color="#4000C0">(</font><font color="#000000">cells</font><font color="#4000C0">,</font> <font color="#000000">type</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">&quot;Remap&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">RemapAtts</font> <font color="#4000C0">=</font> <font color="#000000">RemapAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">RemapAtts</font><font color="#4000C0">.</font><font color="#000000">cellsX</font> <font color="#4000C0">=</font> <font color="#000000">cells</font>
    <font color="#000000">RemapAtts</font><font color="#4000C0">.</font><font color="#000000">cellsY</font> <font color="#4000C0">=</font> <font color="#000000">cells</font>
    <font color="#000000">RemapAtts</font><font color="#4000C0">.</font><font color="#000000">cellsZ</font> <font color="#4000C0">=</font> <font color="#000000">cells</font>
    <font color="#C00000">if</font> <font color="#000000">type</font> <font color="#4000C0">==</font> <font color="#0080C0">1</font><font color="#4000C0">:</font>
        <font color="#000000">RemapAtts</font><font color="#4000C0">.</font><font color="#000000">variableType</font> <font color="#4000C0">=</font> <font color="#000000">RemapAtts</font><font color="#4000C0">.</font><font color="#000000">extrinsic</font>
        <font color="#000000">setPseudoOptions</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">RemapAtts</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">setPseudoOptions</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">PseudocolorAtts</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">PseudocolorAtts</font><font color="#4000C0">.</font><font color="#000000">limitsMode</font> <font color="#4000C0">=</font> <font color="#000000">PseudocolorAtts</font><font color="#4000C0">.</font><font color="#000000">ActualData</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">PseudocolorAtts</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">set3DView</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">View3DAtts</font> <font color="#4000C0">=</font> <font color="#000000">View3DAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">viewNormal</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.7</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">focus</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">1.5</font><font color="#4000C0">,</font> <font color="#0080C0">1.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">viewUp</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#4000C0">-</font><font color="#0080C0">0.0429563</font><font color="#4000C0">,</font> <font color="#0080C0">0.998733</font><font color="#4000C0">,</font> <font color="#4000C0">-</font><font color="#0080C0">0.0262205</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">viewAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">30</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">parallelScale</font> <font color="#4000C0">=</font> <font color="#0080C0">2.17945</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">nearPlane</font> <font color="#4000C0">=</font> <font color="#4000C0">-</font><font color="#0080C0">4.3589</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">farPlane</font> <font color="#4000C0">=</font> <font color="#0080C0">4.3589</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">imagePan</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">imageZoom</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">perspective</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">eyeAngle</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">centerOfRotationSet</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">centerOfRotation</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">1.5</font><font color="#4000C0">,</font> <font color="#0080C0">1.5</font><font color="#4000C0">,</font> <font color="#0080C0">0.5</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">axis3DScaleFlag</font> <font color="#4000C0">=</font> <font color="#0080C0">0</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">axis3DScales</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">shear</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">View3DAtts</font><font color="#4000C0">.</font><font color="#000000">windowValid</font> <font color="#4000C0">=</font> <font color="#0080C0">1</font>
    <font color="#000000">SetView3D</font><font color="#4000C0">(</font><font color="#000000">View3DAtts</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#000000">varName</font><font color="#4000C0">,</font> <font color="#000000">saveName</font><font color="#4000C0">,</font> <font color="#000000">cells</font> <font color="#4000C0">=</font> <font color="#0080C0">10</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#000000">varName</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">remap</font><font color="#4000C0">(</font><font color="#000000">cells</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">saveName</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_int&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">RemoveOperator</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">remap</font><font color="#4000C0">(</font><font color="#000000">cells</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">saveName</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_ext&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">ghost1</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;ghost1.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;zvar&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;ghost_zvar&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;ghost1.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">globalNode</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;global_node.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">set3DView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;p&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;globalNode_p&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font> <font color="#a02030"># Wrong results.</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;global_node.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">mCurve2</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_curv2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve2_d&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d_dup&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve2_d_dup&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;nmats&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve2_nmats&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;p&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve2_p&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_curv2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">mCurve3</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_curv3d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">set3DView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve3_d&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d_dup&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve3_d_dup&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;nmats&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve3_nmats&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;p&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mCurve3_p&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_curv3d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">mRect2</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_rect2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect2_d&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d_dup&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect2_d_dup&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;nmats&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect2_nmats&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;p&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect2_p&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_rect2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">mRect3</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_rect3d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">set3DView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect3_d&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;d_dup&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect3_d_dup&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;nmats&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect3_nmats&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;p&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;mRect3_p&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">4</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;multi_rect3d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">ucd2</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;ucd2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">plotVariables</font><font color="#4000C0">(</font><font color="#008000">&quot;p&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;ucd2_p&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">silo_data_path</font><font color="#4000C0">(</font><font color="#008000">&quot;ucd2d.silo&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">Main</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">ghost1</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">globalNode</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">mCurve2</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">mCurve3</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">mRect2</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">mRect3</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ucd2</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">Main</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>