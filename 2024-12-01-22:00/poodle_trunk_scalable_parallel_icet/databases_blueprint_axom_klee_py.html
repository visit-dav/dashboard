<html><body bgcolor="#e0e0e0"><head><title>databases/blueprint_axom_klee.py</title></head><pre><font face="Lucida,Courier New"><font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#a02030">#  CLASSES: nightly</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Test Case:  blueprint_axom_klee.py </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Tests:      blueprint hdf5 files </font>
<font color="#a02030">#</font>
<font color="#a02030">#  Programmer: Brad Whitlock</font>
<font color="#a02030">#  Date:       Wed May 31 15:59:22 PDT 2023</font>
<font color="#a02030">#</font>
<font color="#a02030">#  Modifications:</font>
<font color="#a02030">#    Brad Whitlock, Wed Jul 19 15:11:35 PDT 2023</font>
<font color="#a02030">#    I added some tests for an index file that has display_name entries in it.</font>
<font color="#a02030">#</font>
<font color="#a02030">#    Brad Whitlock, Tue Dec 19 17:29:53 PST 2023</font>
<font color="#a02030">#    I added a new test to make sure refining a low-order field happens by</font>
<font color="#a02030">#    making sure there is no message about adding extra 0&#x27;s.</font>
<font color="#a02030">#</font>
<font color="#a02030"># ----------------------------------------------------------------------------</font>
<font color="#000000">RequiredDatabasePlugin</font><font color="#4000C0">(</font><font color="#008000">&quot;Blueprint&quot;</font><font color="#4000C0">)</font>
<font color="#C00000">from</font> <font color="#000000">os</font><font color="#4000C0">.</font><font color="#000000">path</font> <font color="#C00000">import</font> <font color="#000000">join</font> <font color="#C00000">as</font> <font color="#000000">pjoin</font>

<font color="#C00000">def</font> <font color="#000000">bj_test_helper_mats</font><font color="#4000C0">(</font><font color="#000000">rootName</font><font color="#4000C0">,</font> <font color="#000000">prefix</font><font color="#4000C0">,</font> <font color="#000000">sectionText</font><font color="#4000C0">,</font> <font color="#000000">extraPlots</font> <font color="#4000C0">=</font> <font color="#C00000">None</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#000000">sectionText</font><font color="#4000C0">)</font>
    <font color="#000000">db</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#008000">&quot;axom_klee_test_data&quot;</font><font color="#4000C0">,</font> <font color="#000000">rootName</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;FilledBoundary&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping_mesh_material&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font> <font color="#4000C0">=</font> <font color="#000000">FilledBoundaryAttributes</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">3</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">fb</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Mesh&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping_mesh&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font> <font color="#4000C0">=</font> <font color="#000000">GetView2D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">windowCoords</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">7.83773</font><font color="#4000C0">,</font> <font color="#0080C0">12.304</font><font color="#4000C0">,</font> <font color="#0080C0">8.64959</font><font color="#4000C0">,</font> <font color="#0080C0">13.1412</font><font color="#4000C0">)</font>
    <font color="#000000">v</font><font color="#4000C0">.</font><font color="#000000">viewportCoords</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.2</font><font color="#4000C0">,</font> <font color="#0080C0">0.95</font><font color="#4000C0">,</font> <font color="#0080C0">0.15</font><font color="#4000C0">,</font> <font color="#0080C0">0.95</font><font color="#4000C0">)</font>
    <font color="#000000">SetView2D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
    <font color="#000000">SetActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">1</font><font color="#4000C0">)</font><font color="#4000C0">)</font>

    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_00&quot;</font><font color="#4000C0">)</font>

    <font color="#a02030"># Increase the resolution.</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">&quot;MultiresControl&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">m</font> <font color="#4000C0">=</font> <font color="#000000">MultiresControlAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">m</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">4</font>
    <font color="#000000">m</font><font color="#4000C0">.</font><font color="#000000">maxResolution</font> <font color="#4000C0">=</font> <font color="#0080C0">10</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">m</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_01&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">v2</font> <font color="#4000C0">=</font> <font color="#000000">GetView2D</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">windowCoords</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">9.50025</font><font color="#4000C0">,</font> <font color="#0080C0">10.5163</font><font color="#4000C0">,</font> <font color="#0080C0">10.8769</font><font color="#4000C0">,</font> <font color="#0080C0">11.9097</font><font color="#4000C0">)</font>
    <font color="#000000">v2</font><font color="#4000C0">.</font><font color="#000000">viewportCoords</font> <font color="#4000C0">=</font> <font color="#4000C0">(</font><font color="#0080C0">0.2</font><font color="#4000C0">,</font> <font color="#0080C0">0.95</font><font color="#4000C0">,</font> <font color="#0080C0">0.15</font><font color="#4000C0">,</font> <font color="#0080C0">0.95</font><font color="#4000C0">)</font>
    <font color="#000000">SetView2D</font><font color="#4000C0">(</font><font color="#000000">v2</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_02&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">SetActivePlots</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030"># Possibly make some extra plots</font>
    <font color="#C00000">if</font> <font color="#000000">extraPlots</font> <font color="#C00000">is</font> <font color="#C00000">not</font> <font color="#C00000">None</font><font color="#4000C0">:</font>
        <font color="#000000">extraPlots</font><font color="#4000C0">(</font><font color="#000000">prefix</font><font color="#4000C0">,</font> <font color="#000000">v</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">bj_test_helper</font><font color="#4000C0">(</font><font color="#000000">datadir</font><font color="#4000C0">,</font> <font color="#000000">prefix</font><font color="#4000C0">,</font> <font color="#000000">sectionText</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">def</font> <font color="#000000">pc_plots</font><font color="#4000C0">(</font><font color="#000000">prefix</font><font color="#4000C0">,</font> <font color="#000000">v</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#a02030"># Look at one of the volume fractions. It should be refined</font>
        <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping_mesh/vol_frac_steel&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">SetView2D</font><font color="#4000C0">(</font><font color="#000000">v</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_03&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">bj_test_helper_mats</font><font color="#4000C0">(</font><font color="#000000">datadir</font><font color="#4000C0">,</font> <font color="#000000">prefix</font><font color="#4000C0">,</font> <font color="#000000">sectionText</font><font color="#4000C0">,</font> <font color="#000000">pc_plots</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test0</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">&quot;P0 Material&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">db</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#008000">&quot;axom_klee_test_data&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;heroic_roses_o0&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping.root&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;FilledBoundary&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping_mesh_material&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font> <font color="#4000C0">=</font> <font color="#000000">FilledBoundaryAttributes</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">80</font><font color="#4000C0">,</font><font color="#0080C0">80</font><font color="#4000C0">,</font><font color="#0080C0">220</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">2</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">93</font><font color="#4000C0">,</font><font color="#0080C0">241</font><font color="#4000C0">,</font><font color="#0080C0">160</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">3</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">120</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">4</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">90</font><font color="#4000C0">,</font><font color="#0080C0">100</font><font color="#4000C0">,</font><font color="#0080C0">50</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">5</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">241</font><font color="#4000C0">,</font><font color="#0080C0">132</font><font color="#4000C0">,</font><font color="#0080C0">171</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">6</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">184</font><font color="#4000C0">,</font><font color="#0080C0">158</font><font color="#4000C0">,</font><font color="#0080C0">241</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">7</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">240</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">fb</font><font color="#4000C0">.</font><font color="#000000">SetMultiColor</font><font color="#4000C0">(</font><font color="#0080C0">8</font><font color="#4000C0">,</font> <font color="#4000C0">(</font><font color="#0080C0">255</font><font color="#4000C0">,</font><font color="#0080C0">153</font><font color="#4000C0">,</font><font color="#0080C0">0</font><font color="#4000C0">,</font><font color="#0080C0">255</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">SetPlotOptions</font><font color="#4000C0">(</font><font color="#000000">fb</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_0_00&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test1</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">bj_test_helper</font><font color="#4000C0">(</font><font color="#008000">&quot;balls_and_jacks_q7o2/shaping.root&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;blueprint_axom_klee_1&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;P2 Material&quot;</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test2</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">bj_test_helper</font><font color="#4000C0">(</font><font color="#008000">&quot;balls_and_jacks_q7o5/shaping.root&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;blueprint_axom_klee_2&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;P5 Material&quot;</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test3</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">&quot;matvf on HO materials&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">db</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#008000">&quot;axom_klee_test_data&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;3mat_q12o12&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping.root&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;FilledBoundary&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping_mesh_material&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">&quot;MultiresControl&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font> <font color="#4000C0">=</font> <font color="#000000">MultiresControlAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">16</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_00&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">&quot;vf_inner&quot;</font><font color="#4000C0">,</font> <font color="#008000">&#x27;matvf(shaping_mesh_material, &quot;inner&quot;)&#x27;</font><font color="#4000C0">)</font>
    <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">&quot;vf_middle&quot;</font><font color="#4000C0">,</font> <font color="#008000">&#x27;matvf(shaping_mesh_material, &quot;middle&quot;)&#x27;</font><font color="#4000C0">)</font>
    <font color="#000000">DefineScalarExpression</font><font color="#4000C0">(</font><font color="#008000">&quot;vf_outer&quot;</font><font color="#4000C0">,</font> <font color="#008000">&#x27;matvf(shaping_mesh_material, &quot;outer&quot;)&#x27;</font><font color="#4000C0">)</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;vf_inner&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">&quot;MultiresControl&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font> <font color="#4000C0">=</font> <font color="#000000">MultiresControlAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">3</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">maxResolution</font> <font color="#4000C0">=</font> <font color="#0080C0">20</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_01&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">20</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_02&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">&quot;vf_middle&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">3</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_03&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">20</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_04&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">&quot;vf_outer&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">3</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_05&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">op</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">20</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">op</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_3_06&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test4</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#C00000">def</font> <font color="#000000">pc_plots</font><font color="#4000C0">(</font><font color="#000000">prefix</font><font color="#4000C0">,</font> <font color="#000000">v</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
        <font color="#a02030"># Look at the volume fraction fields, whose names were changed</font>
        <font color="#a02030"># in the index using display_name.</font>
        <font color="#000000">SetActivePlots</font><font color="#4000C0">(</font><font color="#0080C0">0</font><font color="#4000C0">)</font>
        <font color="#000000">DeleteActivePlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;volume_fractions/air&quot;</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">,</font> <font color="#0080C0">1</font><font color="#4000C0">)</font>
        <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">ResetView</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_03&quot;</font><font color="#4000C0">)</font>
        <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">&quot;volume_fractions/rubber&quot;</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_04&quot;</font><font color="#4000C0">)</font>
        <font color="#000000">ChangeActivePlotsVar</font><font color="#4000C0">(</font><font color="#008000">&quot;volume_fractions/steel&quot;</font><font color="#4000C0">)</font>
        <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#000000">prefix</font> <font color="#4000C0">+</font> <font color="#008000">&quot;_05&quot;</font><font color="#4000C0">)</font>
    <font color="#a02030"># Make sure the material still plots, even though its constituent volume</font>
    <font color="#a02030"># fraction arrays have been renamed in the index file using display_name.</font>
    <font color="#000000">bj_test_helper_mats</font><font color="#4000C0">(</font><font color="#008000">&quot;balls_and_jacks_q7o2/shaping_mod.root&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;blueprint_axom_klee_4&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;Testing display_name&quot;</font><font color="#4000C0">,</font> <font color="#000000">pc_plots</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">test5</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">TestSection</font><font color="#4000C0">(</font><font color="#008000">&quot;Refine low order field&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">db</font> <font color="#4000C0">=</font> <font color="#000000">data_path</font><font color="#4000C0">(</font><font color="#000000">pjoin</font><font color="#4000C0">(</font><font color="#008000">&quot;axom_klee_test_data&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;balls_and_jacks_q7o5&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping.root&quot;</font><font color="#4000C0">)</font><font color="#4000C0">)</font>
    <font color="#000000">OpenDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

    <font color="#a02030"># Plot a low-order field that would normally *not* refine with MultiresControl.</font>
    <font color="#000000">AddPlot</font><font color="#4000C0">(</font><font color="#008000">&quot;Pseudocolor&quot;</font><font color="#4000C0">,</font> <font color="#008000">&quot;shaping_mesh/mesh_material_attribute&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">AddOperator</font><font color="#4000C0">(</font><font color="#008000">&quot;MultiresControl&quot;</font><font color="#4000C0">)</font>
    <font color="#000000">m</font> <font color="#4000C0">=</font> <font color="#000000">MultiresControlAttributes</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">m</font><font color="#4000C0">.</font><font color="#000000">maxResolution</font> <font color="#4000C0">=</font> <font color="#0080C0">10</font>
    <font color="#000000">m</font><font color="#4000C0">.</font><font color="#000000">resolution</font> <font color="#4000C0">=</font> <font color="#0080C0">2</font>
    <font color="#000000">SetOperatorOptions</font><font color="#4000C0">(</font><font color="#000000">m</font><font color="#4000C0">)</font>
    <font color="#000000">msg</font><font color="#4000C0">,</font> <font color="#000000">severity</font> <font color="#4000C0">=</font> <font color="#000000">GetLastMessage</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#000000">DrawPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

    <font color="#a02030"># Executing the plot would have issued a warning about VisIt having to add</font>
    <font color="#a02030"># 0&#x27;s. Make sure that message no longer happens.</font>
    <font color="#000000">msg</font><font color="#4000C0">,</font> <font color="#000000">severity</font> <font color="#4000C0">=</font> <font color="#000000">GetLastMessage</font><font color="#4000C0">(</font><font color="#0080C0">1</font><font color="#4000C0">)</font>
    <font color="#C00000">if</font> <font color="#000000">msg</font><font color="#4000C0">.</font><font color="#000000">find</font><font color="#4000C0">(</font><font color="#008000">&quot;Extra 0.\&#x27;s were added&quot;</font><font color="#4000C0">)</font> <font color="#4000C0">!=</font> <font color="#4000C0">-</font><font color="#0080C0">1</font><font color="#4000C0">:</font>
        <font color="#000000">txt</font> <font color="#4000C0">=</font> <font color="#000000">msg</font>
    <font color="#C00000">else</font><font color="#4000C0">:</font>
        <font color="#000000">txt</font> <font color="#4000C0">=</font> <font color="#008000">&quot;Padding the field was not necessary.&quot;</font>
    <font color="#000000">TestText</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_5_00&quot;</font><font color="#4000C0">,</font> <font color="#000000">txt</font><font color="#4000C0">)</font>
    <font color="#000000">Test</font><font color="#4000C0">(</font><font color="#008000">&quot;blueprint_axom_klee_5_01&quot;</font><font color="#4000C0">)</font>

    <font color="#000000">DeleteAllPlots</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">CloseDatabase</font><font color="#4000C0">(</font><font color="#000000">db</font><font color="#4000C0">)</font>

<font color="#C00000">def</font> <font color="#000000">main</font><font color="#4000C0">(</font><font color="#4000C0">)</font><font color="#4000C0">:</font>
    <font color="#000000">test0</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">test1</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">test2</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">test3</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">test4</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
    <font color="#000000">test5</font><font color="#4000C0">(</font><font color="#4000C0">)</font>

<font color="#000000">main</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000">Exit</font><font color="#4000C0">(</font><font color="#4000C0">)</font>
<font color="#000000"></font></font></pre></body></html>